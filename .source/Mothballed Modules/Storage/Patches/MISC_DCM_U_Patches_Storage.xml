<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<!-- <></> -->
	<!--  -->



	<!-- WORKBENCH STORAGE -->
		<!--  -->
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="StorageShelfBase" or @Name="AdaptiveStorageBase"][not(placeWorkers)]</xpath>
				<value>
					<placeWorkers/>
				</value>
				<success>Always</success>
			</Operation>
		<!--  -->
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="StorageShelfBase" or @Name="AdaptiveStorageBase"][placeWorkers]/placeWorkers</xpath>
				<value>
					<li>NeatStorageFix.Placeworker_StoragesNoOverlapEachOther</li>
				</value>
			</Operation>
	<!-- GRAVSHIP CRATE -->
		<!-- ODYSSEY RESEARCH -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Odyssey</li>
				</mods>
				<match Class="PatchOperationSequence">
					<success>Always</success>
					<operations>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[@Name="sbzGravshipCrateBase" or @Name="sbzGravshipShelfBase" or @Name="sbzSmallGravshipShelfBase"]/researchPrerequisites</xpath>
							<value>
								<researchPrerequisites><li>BasicGravtech</li></researchPrerequisites>
							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="sbz_GravshipWeaponRack"]/researchPrerequisites</xpath>
							<value>
								<researchPrerequisites><li>BasicGravtech</li><li>Machining</li></researchPrerequisites>
							</value>
						</li>
					</operations>
				</match>
			</Operation>
	<!-- FRIDGE -->
		<!-- VANILLA NUTRIENT PASTE EXTENDED -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Vanilla Nutrient Paste Expanded</li>
				</mods>
				<match Class="PatchOperationSequence">
					<success>Always</success>
					<operations>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[@Name = "sbzFridgeBase"]</xpath>
							<value>
								<comps>
									<li Class="VNPE.CompProperties_RegisterToGrinder" />
								</comps>
							</value>
						</li>
					</operations>
				</match>
			</Operation>
	<!-- CARGO HOLDS -->
		<!-- PATCHES TO CATEGORIES -->
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_SqCargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_CargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_RefCargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_2x2CargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_MassCargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_SmCargoComp"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_nCargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_nRefCargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_n2x2CargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_nMassCargoHold"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_XMCH"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="jdgg_XMCHVB"]</xpath>
				<value>
					<designationCategory>cargoholds</designationCategory>
				</value>
			</Operation>
	<!-- ADAPTIVE BEES -->
		<Operation Class="PatchOperationFindMod">
			<mods>
				<li>Adaptive Storage Framework</li>
			</mods>
			<match Class="PatchOperationSequence">
				<operations>
				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<ThingDef Name="ASF_RB_BeeRack" ParentName="AdaptiveStorageBase">
							<defName>ASF_RB_BeeRack</defName>
							<label>Bee Storage</label>
							<pathCost>100</pathCost>
							<graphicData>
								<texPath>Things/Building/RB_BeeRack</texPath>
								<graphicClass>Graphic_Multi</graphicClass>
								<shaderType>CutoutComplex</shaderType>
								<drawSize>(3,2)</drawSize>
							</graphicData>
							<description>A Collection of entomology jars, containers, tubes and vials suitable for collecting and examining specimens. Allows you to store bees in a controlled way.\n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 14 Stack per tile: 7</description>
							<size>(2,1)</size>
							<statBases>
								<Beauty>1</Beauty>
								<MaxHitPoints>25</MaxHitPoints>
								<Mass>8</Mass>
								<WorkToBuild>500</WorkToBuild>
								<Flammability>1.0</Flammability>
							</statBases>
							<stuffCategories>
								<li>Metallic</li>
								<li>Woody</li>
							</stuffCategories>
							<costStuffCount>60</costStuffCount>
							<building>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<maxItemsInCell>7</maxItemsInCell>
								<fixedStorageSettings>
									<filter>
										<categories>
											<li>RB_BeesAndQueens</li>
										</categories>
									</filter>
								</fixedStorageSettings>
							</building>
							<minifiedDef>MinifiedThing</minifiedDef>
							<thingCategories>
								<li>BuildingsFurniture</li>
							</thingCategories>
						</ThingDef>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<AdaptiveStorage.GraphicsDef Name="ASF_RB_BeeRackBase" Abstract="True">
							<targetDef>ASF_RB_BeeRack</targetDef>
							<graphics>
								<li>
									<graphicData>
										<texPath>Things/Building/RB_BeeRack</texPath>
										<graphicClass>Graphic_Multi</graphicClass>
										<drawSize>(3,2)</drawSize>
										<drawRotated>false</drawRotated>
									</graphicData>
								</li>
							</graphics>
							<showContainedItems>true</showContainedItems>
						</AdaptiveStorage.GraphicsDef>
						<AdaptiveStorage.GraphicsDef ParentName="ASF_RB_BeeRackBase">
							<defName>RB_BeeRackA</defName>
							<graphics>
								<li>
									<graphicData>
										<texPath>Things/Building/RB_BeeRack</texPath>
										<graphicClass>Graphic_Multi</graphicClass>
										<drawSize>(3,2)</drawSize>
										<drawRotated>false</drawRotated>
									</graphicData>
									<minimumStackCount>1</minimumStackCount>
								</li>
							</graphics>
						</AdaptiveStorage.GraphicsDef>
					</value>
				</li>
			</operations>
			</match>
		</Operation>
	<!-- PHANERON'S STORAGE -->
		<!-- CE AMMO -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Combat Extended</li>
				</mods>
				<match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="BasicStorageWoodenCrate"
							or defName="BasicStorageMetalCrate"
							or defName="BasicStorageSack"]/building/fixedStorageSettings/filter/categories</xpath>
						<value>
							<li>Ammo</li>
						</value>
				</match>
			</Operation>
		<!-- VANILLA CHEMFUEL EXPANDED -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Vanilla Chemfuel Expanded</li>
				</mods>
				<match Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="BasicStorageFuelTank"]/building/fixedStorageSettings/filter/thingDefs</xpath>
						<value>
							<li>VCHE_Deepchem</li>
						</value>
				</match>
			</Operation>
		<!-- VANILLA SHELVES -->
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="ShelfSmall"
					or defName="Shelf"]</xpath>
				<value>
					<drawGUIOverlay>true</drawGUIOverlay>
				</value>
			</Operation>
	<!-- REEL'S STORAGE -->
		<!-- BEDROOM FURNITURE -->
			<Operation Class="PatchOperationConditional">
				<xpath>Defs/ThingDef[defName = "ReelStorageBookshelf"]</xpath>
				<match Class="PatchOperationSequence">
					<operations>

						<li Class="PatchOperationConditional">
							<xpath>Defs/ThingDef[defName = "SimpleResearchBench"]/comps</xpath>
							<nomatch Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName = "SimpleResearchBench"]</xpath>
								<value>
									<comps>
										<li Class="CompProperties_AffectedByFacilities">
											<linkableFacilities>
												<li>ReelStorageBookshelf</li>
											</linkableFacilities>
										</li>
									</comps>
								</value>
							</nomatch>
							<match Class="PatchOperationConditional">
								<xpath>Defs/ThingDef[defName = "SimpleResearchBench"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
								<nomatch Class="PatchOperationAdd">
									<xpath>Defs/ThingDef[defName = "SimpleResearchBench"]/comps</xpath>
									<value>
										<li Class="CompProperties_AffectedByFacilities">
											<linkableFacilities>
												<li>ReelStorageBookshelf</li>
											</linkableFacilities>
										</li>
									</value>
								</nomatch>
								<match Class="PatchOperationAdd">
									<xpath>Defs/ThingDef[defName = "SimpleResearchBench"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
									<value>
										<li>ReelStorageBookshelf</li>
									</value>
								</match>
							</match>
						</li>

						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName = "HiTechResearchBench"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
							<value>
								<li>ReelStorageBookshelf</li>
							</value>
						</li>

						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName = "SimpleResearchBench"]/comps/li[@Class = "CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
							<value>
								<li>ReelStorageBookshelf</li>
							</value>
						</li>

					</operations>
				</match>
			</Operation>
		<!-- VVE-GARAGE CABINET -->
			<Operation MayRequire="oskarpotocki.vanillavehiclesexpanded" Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="VVE_GarageCabinet"]</xpath>
			</Operation>
			<Operation MayRequire="oskarpotocki.vanillavehiclesexpanded" Class="PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<ThingDef ParentName="AdaptiveStorageBase">
						<defName>VVE_GarageCabinet</defName>
						<label>garage cabinet</label>
						<description>A handy cabinet that contains a whole bunch of extra tools of various sizes and functions. Increases work speed when placed near a garage bench. One bench can use up to two garage cabinets. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 12 Stack per tile: 6 Allowed items: Car parts</description>
						<graphicData>
						<texPath>Things/Building/Production/GarageCabinet</texPath>
						<graphicClass>Graphic_Multi</graphicClass>
						<drawSize>(2,1)</drawSize>
						<damageData>
							<cornerTL>Damage/Corner</cornerTL>
							<cornerTR>Damage/Corner</cornerTR>
							<cornerBL>Damage/Corner</cornerBL>
							<cornerBR>Damage/Corner</cornerBR>
						</damageData>
						</graphicData>
						<altitudeLayer>Building</altitudeLayer>
						<passability>PassThroughOnly</passability>
						<castEdgeShadows>true</castEdgeShadows>
						<staticSunShadowHeight>0.35</staticSunShadowHeight>
						<fillPercent>0.5</fillPercent>
						<canOverlapZones>false</canOverlapZones>
						<pathCost>42</pathCost>
						<statBases>
							<MaxHitPoints>100</MaxHitPoints>
							<WorkToBuild>1800</WorkToBuild>
							<Mass>20</Mass>
							<Flammability>1</Flammability>
						</statBases>
						<size>(2,1)</size>
						<costList>
						<Steel>140</Steel>
						<ComponentIndustrial>4</ComponentIndustrial>
						</costList>
						<building>
							<maxItemsInCell>6</maxItemsInCell>
							<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
							<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
							<fixedStorageSettings>
								<filter>
									<disallowNotEverStorable>true</disallowNotEverStorable>
									<categories>
										<li>VVE_CarParts</li>
									</categories>
								</filter>
							</fixedStorageSettings>
							<defaultStorageSettings>
								<priority>Critical</priority>
								<filter>
									<categories>
										<li>VVE_CarParts</li>
									</categories>
								</filter>
							</defaultStorageSettings>
						<destroySound>BuildingDestroyed_Metal_Small</destroySound>
						</building>
						<designationCategory>VF_Vehicles</designationCategory>
						<minifiedDef>MinifiedThing</minifiedDef>
						<constructionSkillPrerequisite>4</constructionSkillPrerequisite>
						<thingCategories>
						<li>BuildingsMisc</li>
						</thingCategories>
						<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
						<comps>
						<li Class="CompProperties_Facility">
							<statOffsets>
							<WorkTableWorkSpeedFactor>0.1</WorkTableWorkSpeedFactor>
							</statOffsets>
							<maxSimultaneous>2</maxSimultaneous>
						</li>
						</comps>
						<researchPrerequisites>
						<li>VVE_BasicVehicles</li>
						</researchPrerequisites>
						<placeWorkers>
						<li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
					</ThingDef>
				</value>
			</Operation>
		<!-- VVE-CHEMFUEL BARREL -->
			<Operation Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="VFES_ChemfuelBarrel"]</xpath>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<ThingDef ParentName="BuildingBase">
						<defName>VFES_ChemfuelBarrel</defName>
						<label>chemfuel barrel</label>
						<description>A barrel full of chemfuel. Ignites upon getting shot, which results in a massive explosion.</description>
						<graphicData>
						<texPath>Things/Security/ChemfuelBarrel/ChemfuelBarrel_south</texPath>
						<graphicClass>Graphic_Single</graphicClass>
							<damageData>
								<rect>(0.1,0,0.8,0.3)</rect>
							</damageData>
						</graphicData>
						<techLevel>Industrial</techLevel>
						<uiIconScale>0.8</uiIconScale>
						<costList>
							<Chemfuel>75</Chemfuel>
						</costList>
						<comps>
							<li Class="CompProperties_Explosive">
								<explosiveRadius>5.9</explosiveRadius>
								<explosiveDamageType>Flame</explosiveDamageType>
								<startWickHitPointsPercent>0.95</startWickHitPointsPercent>
								<preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
								<preExplosionSpawnChance>0.4</preExplosionSpawnChance>
								<wickTicks>
									<min>0</min>
									<max>30</max>
								</wickTicks>
							</li>
						</comps>
						<fillPercent>0.4</fillPercent>
						<specialDisplayRadius>5.9</specialDisplayRadius>
						<uiIconOffset>(0,-0.14)</uiIconOffset>
						<altitudeLayer>Building</altitudeLayer>
						<drawerType>RealtimeOnly</drawerType>
						<tickerType>Normal</tickerType>
						<rotatable>false</rotatable>
						<stealable>false</stealable>
						<minifiedDef>MinifiedThing</minifiedDef>
						<thingCategories Inherit="False">
							<li>BuildingsSecurity</li>
						</thingCategories>
						<statBases>
							<Mass>10</Mass>
							<MaxHitPoints>150</MaxHitPoints>
							<WorkToBuild>1400</WorkToBuild>
							<Flammability>2</Flammability>
							<Beauty>-10</Beauty>
							<TrapSpringChance>0.05</TrapSpringChance>
						</statBases>
						<designationCategory>Security</designationCategory>
						<building>
							<isTrap>true</isTrap>
							<expandHomeArea>false</expandHomeArea>
							<ai_chillDestination>false</ai_chillDestination>
						</building>
						<placeWorkers>
							<li>PlaceWorker_NeverAdjacentTrap</li>
						</placeWorkers>
						<researchPrerequisites>
							<li>BiofuelRefining</li>
						</researchPrerequisites>
					</ThingDef>
				</value>
			</Operation>
		<!-- VE SPACER - ADD ADS -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Adaptive Storage Framework</li>
				</mods>
				<match Class="PatchOperationSequence">
					<operations>

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="Table_IlluminatedDresser" or defName="VFES_Table_IlluminatedWardrobe"]</xpath>
						<value>
							<thingClass>AdaptiveStorage.ThingClass</thingClass>
							<drawGUIOverlay>True</drawGUIOverlay>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="Table_IlluminatedDresser" or defName="VFES_Table_IlluminatedWardrobe"]</xpath>
							<value>
								<inspectorTabs>
									<li>ITab_Storage</li>
								</inspectorTabs>
							</value>
					</li>
					<!-- DESCRIPTION PATCHES -->
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="Table_IlluminatedDresser"]/description</xpath>
							<value>

							<description>An illuminated dresser, adorned with light strips. Gives a small comfort bonus to all nearby beds, whilst lighting up the room. Placing more than one dresser near the same bed has no effect. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 8 Stack per tile: 4 Allowed items: Apparel</description>

							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFES_Table_IlluminatedWardrobe"]/description</xpath>
							<value>

							<description>A sleek, modern wardrobe with an integrated soft-glow lamp. Gives a small comfort and rest effectiveness bonus to all nearby beds. Placing more than one wardrobe near the same bed has no effect. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 10 Stack per tile: 5 Allowed items: Apparel</description>

							</value>
						</li>
					<!-- STORAGE PATCHES -->
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="Table_IlluminatedDresser"]/building</xpath>
							<value>
							<building>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>4</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowNotEverStorable>true</disallowNotEverStorable>
											<categories>
												<li>Apparel</li>
											</categories>
										<disallowedCategories>
											<li>ApparelArmor</li>
											<li>ArmorHeadgear</li>
										</disallowedCategories>
										<disallowedThingDefs>
										</disallowedThingDefs>
										<thingDefs>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
									<priority>Preferred</priority>
									<filter>
										<categories>
											<li>Apparel</li>
										</categories>
										<thingDefs>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
							</building>
							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFES_Table_IlluminatedWardrobe"]/building</xpath>
							<value>
							<building>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>5</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowNotEverStorable>true</disallowNotEverStorable>
											<categories>
												<li>Apparel</li>
											</categories>
										<disallowedCategories>
											<li>ApparelArmor</li>
											<li>ArmorHeadgear</li>
										</disallowedCategories>
										<disallowedThingDefs>
										</disallowedThingDefs>
										<thingDefs>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
									<priority>Preferred</priority>
									<filter>
										<categories>
											<li>Apparel</li>
										</categories>
										<thingDefs>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
							</building>
							</value>
						</li>

					</operations>
				</match>
			</Operation>
		<!-- VE SECURITY - ADD ADS -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Adaptive Storage Framework</li>
				</mods>
				<match Class="PatchOperationSequence">
					<operations>

					<li Class="PatchOperationReplace">
						<xpath>Defs/ThingDef[defName="VFES_AmmoCrate"]/thingClass</xpath>
						<value>
							<thingClass>AdaptiveStorage.ThingClass</thingClass>
						</value>
					</li>

					<li Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VFES_AmmoCrate"]</xpath>
						<value>
							<drawGUIOverlay>True</drawGUIOverlay>
						</value>
					</li>

					<!-- DESCRIPTION PATCHES -->
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFES_AmmoCrate"]/description</xpath>
							<value>

							<description>An ammo crate useful for storing shells and ammunition. Improves firing rate of surrounding soldiers. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 14 Stack per tile: 14 Allowed items: Mortar Shells, Ammunition (LTS, Yayo)</description>

							</value>
						</li>
					<!-- STORAGE PATCHES -->
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFES_AmmoCrate"]/building</xpath>
							<value>
							<building>
								<storageGroupTag>Shelf</storageGroupTag>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>14</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowNotEverStorable>true</disallowNotEverStorable>
										<categories>
											<li>MortarShells</li>
											<li MayRequire="mlie.yayoscombat3">yy_ammo_category</li>
											<li MayRequire="limetreesnake.ammunition">Ammunition</li>
											<li MayRequire="ceteam.combatextended">Ammo</li>
										</categories>
										<disallowedCategories>
										</disallowedCategories>
										<disallowedThingDefs>
										</disallowedThingDefs>
										<thingDefs>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
								<priority>Preferred</priority>
									<filter>
										<categories>
											<li MayRequire="kentington.saveourship2">SpaceTorpedoes</li>
											<li>MortarShells</li>
										</categories>
										<thingDefs>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<destroySound>BuildingDestroyed_Metal_Small</destroySound>
								<paintable>true</paintable>
							</building>
							</value>
						</li>
					</operations>
				</match>
			</Operation>
		<!-- VE PRODUCTION - ADD ADS -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Adaptive Storage Framework</li>
				</mods>
				<match Class="PatchOperationSequence">
					<operations>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_DrugCabinet"
								or defName="VFE_MachiningCabinet"
								or defName="VFE_SmithyCabinet"
								or defName="VFE_TailorCabinet"
								or defName="VFE_FabricationCabinet"]</xpath>
							<value>
								<thingClass>AdaptiveStorage.ThingClass</thingClass>
								<surfaceType>Item</surfaceType>
								<drawGUIOverlay>True</drawGUIOverlay>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_DrugCabinet"
								or defName="VFE_MachiningCabinet"
								or defName="VFE_SmithyCabinet"
								or defName="VFE_TailorCabinet"
								or defName="VFE_FabricationCabinet"]</xpath>
								<value>
									<inspectorTabs>
										<li>ITab_Storage</li>
									</inspectorTabs>
								</value>
						</li>
					<!-- DESCRIPTION PATCHES -->
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFE_DrugCabinet"]/description</xpath>
							<value>

							<description>Increases work speed when placed near a drug lab. One workbench links up to two drug cabinets. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 8 Stack per tile: 4 Allowed items: Medicine, Plant Matter, Cloth, Neutroamine \n\n&lt;color=#0094FF&gt;Items stored can be frozen when powered.&lt;/color&gt;</description>

							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFE_MachiningCabinet"]/description</xpath>
							<value>

							<description>Increases work speed when placed near a machining table. One workbench links up to two machining cabinets. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 8 Stack per tile: 4 Allowed items: Steel, Components \n\n&lt;color=#0094FF&gt;Items stored can be frozen when powered.&lt;/color&gt;</description>

							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFE_SmithyCabinet"]/description</xpath>
							<value>

							<description>Increases work speed when placed near a smithy. One workbench links up to two smithy cabinets. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 8 Stack per tile: 4 Allowed items: Metallic</description>

							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFE_TailorCabinet"]/description</xpath>
							<value>

							<description>Increases work speed when placed near a tailoring table. One workbench links up to two tailor cabinets. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 3 Allowed items: Textiles, Leathers</description>

							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFE_FabricationCabinet"]/description</xpath>
							<value>

							<description>Increases work speed when placed near a fabrication bench. One workbench can link up to two fabrication cabinets. Can be used as storage. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 8 Stack per tile: 4 Allowed items: Advanced Components, Components, Metals</description>
							</value>
						</li>
					<!-- STORAGE PATCHES -->
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_DrugCabinet"]/comps</xpath>
							<value>
								<li Class="CompProperties_Power">
									<compClass>CompPowerTrader</compClass>
									<basePowerConsumption>65</basePowerConsumption>
								</li>
								<li Class="CompProperties_Flickable"/>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_DrugCabinet"]</xpath>
							<value>
							<modExtensions>
								<li Class="AdaptiveStorage.Extension">
									<temperature>
										<coolingOffset>105</coolingOffset>
									</temperature>
								</li>
							</modExtensions>
							<building>
								<storageGroupTag>Shelf</storageGroupTag>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>4</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<specialFiltersToAllow>
											<li MayRequire="ludeon.rimworld.ideology">AllowVegetarian</li>
										</specialFiltersToAllow>
										<disallowNotEverStorable>true</disallowNotEverStorable>
										<categories>
											<li>PlantMatter</li>
										</categories>
										<disallowedThingDefs>
										</disallowedThingDefs>
										<thingDefs>
											<li>MedicineHerbal</li>
											<li>Neutroamine</li>
											<li>Cloth</li>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
									<priority>Important</priority>
									<filter>
										<categories>
											<li>PlantMatter</li>
										</categories>
										<thingDefs>
											<li>MedicineHerbal</li>
											<li>Neutroamine</li>
											<li>Cloth</li>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
								<destroySound>BuildingDestroyed_Metal_Small</destroySound>
							</building>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_MachiningCabinet"]</xpath>
							<value>
							<building>
								<storageGroupTag>Shelf</storageGroupTag>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>4</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowNotEverStorable>true</disallowNotEverStorable>
										<categories>
										</categories>
										<disallowedThingDefs>
										</disallowedThingDefs>
										<thingDefs>
											<li>ComponentIndustrial</li>
											<li>Steel</li>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
									<defaultStorageSettings>
									<priority>Important</priority>
									<filter>
										<categories>
										</categories>
										<thingDefs>
											<li>ComponentIndustrial</li>
											<li>Steel</li>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
								<destroySound>BuildingDestroyed_Metal_Small</destroySound>
							</building>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_SmithyCabinet"]</xpath>
							<value>
							<building>
								<storageGroupTag>Shelf</storageGroupTag>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>4</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowedCategories>
											<li>PlantMatter</li>
											<li>StoneBlocks</li>
										</disallowedCategories>
										<categories>
											<li>ResourcesRaw</li>
										</categories>
										<disallowedThingDefs>
											<li>WoodLog</li>
										</disallowedThingDefs>
										<thingDefs>
											<li MayRequire="vanillaexpanded.vpsycastse">VPE_Eltex</li>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
									<priority>Important</priority>
									<filter>
										<categories>
											<li>ResourcesRaw</li>
										</categories>
										<thingDefs>
											<li MayRequire="vanillaexpanded.vpsycastse">VPE_Eltex</li>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
								<destroySound>BuildingDestroyed_Metal_Small</destroySound>
							</building>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_TailorCabinet"]</xpath>
							<value>
							<building>
								<storageGroupTag>Shelf</storageGroupTag>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>3</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowNotEverStorable>true</disallowNotEverStorable>
										<categories>
											<li>Textiles</li>
											<li>Leathers</li>
										</categories>
										<disallowedThingDefs>
										</disallowedThingDefs>
										<thingDefs>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
									<priority>Important</priority>
									<filter>
										<categories>
											<li>Textiles</li>
											<li>Leathers</li>
										</categories>
										<thingDefs>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
								<destroySound>BuildingDestroyed_Metal_Small</destroySound>
							</building>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_FabricationCabinet"]</xpath>
							<value>
							<building>
								<storageGroupTag>Shelf</storageGroupTag>
								<blueprintClass>Blueprint_Storage</blueprintClass>
								<maxItemsInCell>4</maxItemsInCell>
								<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
								<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
								<fixedStorageSettings>
									<filter>
										<disallowNotEverStorable>true</disallowNotEverStorable>
										<disallowedCategories>
											<li>PlantMatter</li>
											<li>StoneBlocks</li>
										</disallowedCategories>
										<categories>
											<li>ResourcesRaw</li>
										</categories>
										<disallowedThingDefs>
											<li>WoodLog</li>
										</disallowedThingDefs>
										<thingDefs>
											<li MayRequire="vanillaexpanded.vpsycastse">VPE_Eltex</li>
											<li>ComponentSpacer</li>
											<li>ComponentIndustrial</li>
										</thingDefs>
									</filter>
								</fixedStorageSettings>
								<defaultStorageSettings>
									<priority>Critical</priority>
									<filter>
										<categories>
											<li>ResourcesRaw</li>
										</categories>
										<thingDefs>
											<li MayRequire="vanillaexpanded.vpsycastse">VPE_Eltex</li>
											<li>ComponentSpacer</li>
											<li>ComponentIndustrial</li>
										</thingDefs>
									</filter>
								</defaultStorageSettings>
								<paintable>true</paintable>
								<destroySound>BuildingDestroyed_Metal_Small</destroySound>
							</building>
							</value>
						</li>
					</operations>
				</match>
			</Operation>
		<!-- VE FURNITURE FILING CABINET -->
			<Operation Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="Misc_FileCabinet"]</xpath>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<ThingDef ParentName="AdaptiveStorageBase">
						<defName>Misc_FileCabinet</defName>
						<thingCategories>
							<li>BuildingsFurniture</li>
						</thingCategories>
						<label>file cabinet</label>
						<description>A piece of furniture used for organising documents and records in paper form. It will help you perform research tasks faster. This structure can also be used to store research items. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 6 Allowed items: Techprints, Tech Subpersona Core, Neurotrainers, Signal chips, Empire Intel, Research papers</description>
						<graphicData>
							<texPath>NewThings/Misc/FilingCabinet/FilingCabinet</texPath>
							<graphicClass>Graphic_Multi</graphicClass>
							<shaderType>CutoutComplex</shaderType>
							<drawSize>(2,2)</drawSize>
							<damageData>
								<rect>(0.15,0.15,1.7,1.7)</rect>
							</damageData>
						</graphicData>
						<uiIconPath>NewThings/Misc/FilingCabinet/FilingCabinet_south</uiIconPath>
						<uiIconScale>1.3</uiIconScale>
						<size>(1,1)</size>
						<altitudeLayer>Building</altitudeLayer>
						<passability>PassThroughOnly</passability>
						<castEdgeShadows>true</castEdgeShadows>
						<fillPercent>0.8</fillPercent>
						<statBases>
							<MaxHitPoints>60</MaxHitPoints>
							<WorkToBuild>1600</WorkToBuild>
							<Flammability>1.0</Flammability>
							<Beauty>5</Beauty>
							<Mass>15</Mass>
						</statBases>
						<stuffCategories>
							<li>Metallic</li>
							<li>Woody</li>
							<li>Stony</li>
						</stuffCategories>
						<costStuffCount>25</costStuffCount>
						<minifiedDef>MinifiedThing</minifiedDef>
						<comps>
							<li Class="CompProperties_Facility">
								<statOffsets>
									<ResearchSpeedFactor>0.05</ResearchSpeedFactor>
								</statOffsets>
								<maxSimultaneous>1</maxSimultaneous>
								<maxDistance>6</maxDistance>
							</li>
						</comps>
						<placeWorkers>
							<li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
						<building>
							<blueprintClass>Blueprint_Storage</blueprintClass>
							<maxItemsInCell>6</maxItemsInCell>
							<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
							<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
							<fixedStorageSettings>
								<filter>
								<disallowNotEverStorable>true</disallowNotEverStorable>
									<categories>
										<li MayRequire="ludeon.rimworld.royalty">Techprints</li>
										<li>Neurotrainers</li>
									</categories>
									<thingDefs>
										<li MayRequire="ludeon.rimworld.biotech">SignalChip</li>
										<li MayRequire="ludeon.rimworld.biotech">PowerfocusChip</li>
										<li MayRequire="ludeon.rimworld.biotech">NanostructuringChip</li>
										<li MayRequire="chaoticenrico.researchpapers">ResearchPaper</li>
										<li>TechprofSubpersonaCore</li>
										<li MayRequire="oskarpotocki.vfe.deserters">VFED_CriticalIntel</li>
										<li MayRequire="oskarpotocki.vfe.deserters">VFED_Intel</li>
									</thingDefs>
								<disallowedThingDefs>
								</disallowedThingDefs>
							</filter>
							</fixedStorageSettings>
							<defaultStorageSettings>
								<priority>Preferred</priority>
								<filter>
									<categories>
										<li>Techprints</li>
										<li>Neurotrainers</li>
									</categories>
									<thingDefs>
										<li MayRequire="ludeon.rimworld.biotech">SignalChip</li>
										<li MayRequire="ludeon.rimworld.biotech">PowerfocusChip</li>
										<li MayRequire="ludeon.rimworld.biotech">NanostructuringChip</li>
										<li>TechprofSubpersonaCore</li>
									</thingDefs>
								</filter>
							</defaultStorageSettings>
							<paintable>true</paintable>
						</building>
						<researchPrerequisites>
							<li>ComplexFurniture</li>
						</researchPrerequisites>
						<designationCategory>Misc</designationCategory>
						<defaultPlacingRot>South</defaultPlacingRot>
					</ThingDef>
				</value>
			</Operation>
			<Operation MayRequire="VanillaExpanded.VFECore" Class="PatchOperationSequence">
				<operations>
					<li MayRequire="kongkim.ResearchData" Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="Misc_FileCabinet"]/building/fixedStorageSettings/filter/categories</xpath>
						<value>	<li>Research</li><li>Samples</li><li>Schematics</li> </value>
					</li>
					<li MayRequire="kongkim.ResearchData" Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="Misc_FileCabinet"]/building/defaultStorageSettings/filter/categories</xpath>
						<value>	<li>Research</li><li>Samples</li><li>Schematics</li> </value>
					</li>
				</operations>
			</Operation>
		<!-- VE FURNITURE WARDROBE -->
			<Operation Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="Table_Wardrobe"]</xpath>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<ThingDef ParentName="AdaptiveStorageBase">
						<defName>Table_Wardrobe</defName>
						<label>wardrobe</label>
						<description>A tall wardrobe for storing clothing and other items. Gives a small sleep effectiveness bonus to all nearby beds. Placing more than one wardrobe near the same bed has no effect. Items stored inside will not deteriorate over time and have no impact on the beauty of their surroundings. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 3 Allowed items: Apparel</description>
						<graphicData>
							<texPath>NewThings/Furniture/Wardrobe/Wardrobe</texPath>
							<graphicClass>Graphic_Multi</graphicClass>
							<drawSize>(3.02,3.00)</drawSize>
							<damageData>
								<cornerTL>Damage/Corner</cornerTL>
								<cornerTR>Damage/Corner</cornerTR>
								<cornerBL>Damage/Corner</cornerBL>
								<cornerBR>Damage/Corner</cornerBR>
							</damageData>
						</graphicData>
						<altitudeLayer>Building</altitudeLayer>
						<passability>PassThroughOnly</passability>
						<fillPercent>0.4</fillPercent>
						<castEdgeShadows>true</castEdgeShadows>
						<pathCost>60</pathCost>
						<stuffCategories>
							<li>Metallic</li>
							<li>Woody</li>
							<li>Stony</li>
						</stuffCategories>
						<defaultPlacingRot>South</defaultPlacingRot>
						<costStuffCount>80</costStuffCount>
						<statBases>
							<MaxHitPoints>120</MaxHitPoints>
							<Mass>25</Mass>
							<WorkToBuild>3000</WorkToBuild>
							<Flammability>1.0</Flammability>
							<Beauty>8</Beauty>
						</statBases>
						<size>(2,1)</size>
						<staticSunShadowHeight>0.5</staticSunShadowHeight>
						<surfaceType>Item</surfaceType>
						<canOverlapZones>false</canOverlapZones>
						<minifiedDef>MinifiedThing</minifiedDef>
						<thingCategories>
							<li>BuildingsFurniture</li>
						</thingCategories>
						<placeWorkers>
							<li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
						<researchPrerequisites>
							<li>MF_ModernFurniture</li>
						</researchPrerequisites>
						<comps>
							<li Class="CompProperties_Facility">
								<statOffsets>
									<BedRestEffectiveness>0.05</BedRestEffectiveness>
								</statOffsets>
								<maxSimultaneous>1</maxSimultaneous>
								<maxDistance>6</maxDistance>
							</li>
							<li>
								<compClass>CompQuality</compClass>
							</li>
							<li Class="CompProperties_Styleable"/>
						</comps>
						<designationCategory>Furniture</designationCategory>
						<building>
							<blueprintClass>Blueprint_Storage</blueprintClass>
							<maxItemsInCell>3</maxItemsInCell>
							<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
							<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
							<fixedStorageSettings>
								<filter>
								<disallowNotEverStorable>true</disallowNotEverStorable>
									<categories>
										<li>Apparel</li>
									</categories>
									<disallowedCategories>
										<li>ApparelArmor</li>
										<li>ArmorHeadgear</li>
									</disallowedCategories>
									<disallowedThingDefs>
									</disallowedThingDefs>
									<thingDefs>
									</thingDefs>
								</filter>
							</fixedStorageSettings>
							<defaultStorageSettings>
								<priority>Preferred</priority>
								<filter>
									<categories>
										<li>Apparel</li>
									</categories>
									<thingDefs>
									</thingDefs>
								</filter>
							</defaultStorageSettings>
								<paintable>true</paintable>
							</building>
					</ThingDef>
				</value>
			</Operation>
		<!-- VE FURNITURE ROYAL DRESSER -->
			<Operation Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="Table_RoyalDresser"]</xpath>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<ThingDef ParentName="AdaptiveStorageBase">
						<defName>Table_RoyalDresser</defName>
						<label>royal dresser</label>
						<description>A luxurious dresser, adorned with solid gold and elegant in design, making nearby beds more comfortable.Placing more than one end table near the same bed has no effect. Can be used to store Apparel. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 3 Allowed items: Apparel</description>
						<surfaceType>Item</surfaceType>
						<graphicData>
							<texPath>NewThings/Furniture/RoyalDresser/RoyalDresser</texPath>
							<graphicClass>Graphic_Multi</graphicClass>
							<shaderType>CutoutComplex</shaderType>
							<drawSize>(2,1)</drawSize>
							<shadowData>
								<volume>(0.3, 0.6, 0.3)</volume>
							</shadowData>
						</graphicData>
						<statBases>
							<MaxHitPoints>125</MaxHitPoints>
							<WorkToBuild>18000</WorkToBuild>
							<Mass>20</Mass>
							<Flammability>1.0</Flammability>
							<Beauty>50</Beauty>
						</statBases>
						<stuffCategories>
							<li>Metallic</li>
							<li>Woody</li>
							<li>Stony</li>
						</stuffCategories>
						<size>(2,1)</size>
						<pathCost>60</pathCost>
						<defaultPlacingRot>South</defaultPlacingRot>
						<costStuffCount>70</costStuffCount>
						<costList>
							<Gold>50</Gold>
						</costList>
						<minifiedDef>MinifiedThing</minifiedDef>
						<thingCategories>
							<li>BuildingsFurniture</li>
						</thingCategories>
						<placeWorkers>
							<li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
						<researchPrerequisites>
							<li>MF_RoyalFurniture</li>
						</researchPrerequisites>
						<comps>
							<li Class="CompProperties_Facility">
								<statOffsets>
									<Comfort>0.1</Comfort>
								</statOffsets>
								<maxSimultaneous>1</maxSimultaneous>
								<maxDistance>6</maxDistance>
							</li>
							<li>
								<compClass>CompQuality</compClass>
							</li>
						</comps>
						<building>
							<blueprintClass>Blueprint_Storage</blueprintClass>
							<maxItemsInCell>3</maxItemsInCell>
							<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
							<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
							<fixedStorageSettings>
								<filter>
								<disallowNotEverStorable>true</disallowNotEverStorable>
									<categories>
										<li>Apparel</li>
									</categories>
									<disallowedCategories>
										<li>ApparelArmor</li>
										<li>ArmorHeadgear</li>
									</disallowedCategories>
									<disallowedThingDefs>
									</disallowedThingDefs>
									<thingDefs>
									</thingDefs>
								</filter>
							</fixedStorageSettings>
							<defaultStorageSettings>
								<priority>Preferred</priority>
								<filter>
									<categories>
										<li>Apparel</li>
									</categories>
									<thingDefs>
									</thingDefs>
								</filter>
							</defaultStorageSettings>
								<paintable>true</paintable>
							</building>
						<staticSunShadowHeight>0</staticSunShadowHeight>
						<castEdgeShadows>false</castEdgeShadows>
						<constructionSkillPrerequisite>4</constructionSkillPrerequisite>
						<designationCategory>Furniture</designationCategory>
					</ThingDef>
				</value>
			</Operation>
		<!-- VE FURNITURE ROYAL WARDROBE -->
			<Operation Class="PatchOperationRemove">
				<xpath>Defs/ThingDef[defName="VFE_RoyalWardrobe"]</xpath>
			</Operation>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<ThingDef ParentName="AdaptiveStorageBase">
						<defName>VFE_RoyalWardrobe</defName>
						<label>royal wardrobe</label>
						<description>A grand, gold-trimmed wardrobe designed for nobility. Gives a small comfort bonus to all nearby beds. Placing more than one royal wardrobe near the same bed has no effect. Can be used to store Apparel. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 8 Stack per tile: 4 Allowed items: Apparel</description>
						<surfaceType>Item</surfaceType>
						<graphicData>
							<texPath>NewThings/Furniture/RoyalWardrobe/RoyalWardrobe</texPath>
							<graphicClass>Graphic_Multi</graphicClass>
							<shaderType>CutoutComplex</shaderType>
							<drawSize>(3,3)</drawSize>
							<shadowData>
								<volume>(0.3, 0.6, 0.3)</volume>
							</shadowData>
						</graphicData>
						<statBases>
							<MaxHitPoints>160</MaxHitPoints>
							<WorkToBuild>12000</WorkToBuild>
							<Mass>30</Mass>
							<Flammability>1.0</Flammability>
							<Beauty>80</Beauty>
						</statBases>
						<stuffCategories>
							<li>Metallic</li>
							<li>Woody</li>
							<li>Stony</li>
						</stuffCategories>
						<size>(2,1)</size>
						<pathCost>60</pathCost>
						<defaultPlacingRot>South</defaultPlacingRot>
						<costStuffCount>70</costStuffCount>
						<costList>
							<Gold>50</Gold>
						</costList>
						<minifiedDef>MinifiedThing</minifiedDef>
						<thingCategories>
							<li>BuildingsFurniture</li>
						</thingCategories>
						<placeWorkers>
							<li>PlaceWorker_ShowFacilitiesConnections</li>
						</placeWorkers>
						<researchPrerequisites>
							<li>MF_RoyalFurniture</li>
						</researchPrerequisites>
						<comps>
							<li Class="CompProperties_Facility">
								<statOffsets>
									<Comfort>0.1</Comfort>
								</statOffsets>
								<maxSimultaneous>1</maxSimultaneous>
								<maxDistance>6</maxDistance>
							</li>
							<li>
								<compClass>CompQuality</compClass>
							</li>
						</comps>
						<building>
							<blueprintClass>Blueprint_Storage</blueprintClass>
							<maxItemsInCell>4</maxItemsInCell>
							<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
							<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
							<fixedStorageSettings>
								<filter>
								<disallowNotEverStorable>true</disallowNotEverStorable>
									<categories>
										<li>Apparel</li>
									</categories>
									<disallowedCategories>
										<li>ApparelArmor</li>
										<li>ArmorHeadgear</li>
									</disallowedCategories>
									<disallowedThingDefs>
									</disallowedThingDefs>
									<thingDefs>
									</thingDefs>
								</filter>
							</fixedStorageSettings>
							<defaultStorageSettings>
								<priority>Preferred</priority>
								<filter>
									<categories>
										<li>Apparel</li>
									</categories>
									<thingDefs>
									</thingDefs>
								</filter>
							</defaultStorageSettings>
								<paintable>true</paintable>
							</building>
						<staticSunShadowHeight>0</staticSunShadowHeight>
						<castEdgeShadows>false</castEdgeShadows>
						<constructionSkillPrerequisite>7</constructionSkillPrerequisite>
						<designationCategory>Furniture</designationCategory>
					</ThingDef>
				</value>
			</Operation>
		<!-- VE ART PATCHES -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Adaptive Storage Framework</li>
				</mods>
				<match Class="PatchOperationSequence">
					<operations>
						<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="VFE_Plinth"]/thingClass</xpath>
							<value>
								<thingClass>AdaptiveStorage.ThingClass</thingClass>
							</value>
						</li>
						<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_Pottery"]</xpath>
							<value>
								<thingClass>AdaptiveStorage.ThingClass</thingClass>
							</value>
						</li>
						<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="VFE_Pottery"]</xpath>
							<value>
								<clearBuildingArea>false</clearBuildingArea>
								<altitudeLayer>BuildingOnTop</altitudeLayer>
								<surfaceType>Item</surfaceType>
								<drawGUIOverlay>True</drawGUIOverlay>
								<inspectorTabs>
									<li>ITab_Storage</li>
								</inspectorTabs>
							</value>
						</li>
						<!-- DESCRIPTION PATCHES -->
							<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationReplace">
								<xpath>Defs/ThingDef[defName="VFE_Pottery"]/description</xpath>
								<value>
									<description>A small-size pieces of pottery with artisting engravings. Can be crafted on a crafting spot. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 6 Allowed items: Food, PlantMatter</description>
								</value>
							</li>
							<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationReplace">
								<xpath>Defs/ThingDef[defName="VFE_Plinth"]/description</xpath>
								<value>
									<description>A small plinth with an artistic imagery carved into the sides. Can be used for storing miscellaneous items. Items stored in this will not deteriorate, even if outside. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 1 Stack per tile: 1 Allowed items: Weapons</description>
								</value>
							</li>
						<!-- STORAGE PATCHES -->
							<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName="VFE_Pottery"]</xpath>
								<value>
									<building>
										<storageGroupTag>Shelf</storageGroupTag>
										<blueprintClass>Blueprint_Storage</blueprintClass>
										<maxItemsInCell>6</maxItemsInCell>
										<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
										<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
										<fixedStorageSettings>
											<filter>
												<specialFiltersToAllow>
													<li MayRequire="ludeon.rimworld.ideology">AllowVegetarian</li>
												</specialFiltersToAllow>
												<categories>
													<li>Foods</li>
													<li>PlantMatter</li>
													<li MayRequire="vanillaexpanded.vcooke">VCEF_RawFishCategory</li> 
												</categories>
												<disallowedThingDefs>
												</disallowedThingDefs>
												<thingDefs>
												</thingDefs>
											</filter>
										</fixedStorageSettings>
										<defaultStorageSettings>
											<priority>Important</priority>
											<filter>
												<specialFiltersToAllow>
													<li MayRequire="ludeon.rimworld.ideology">AllowVegetarian</li>
												</specialFiltersToAllow>
												<categories>
													<li>Foods</li>
													<li>PlantMatter</li>
													<li MayRequire="vanillaexpanded.vcooke">VCEF_RawFishCategory</li> 
												</categories>
												<thingDefs>
												</thingDefs>
											</filter>
										</defaultStorageSettings>
										<paintable>true</paintable>
										<isEdifice>true</isEdifice>
									</building>
								</value>
							</li>
							<li MayRequire="vanillaexpanded.vfeart" Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName="VFE_Plinth"]/building</xpath>
								<value>
									<storageGroupTag>Shelf</storageGroupTag>
									<blueprintClass>Blueprint_Storage</blueprintClass>
									<maxItemsInCell>1</maxItemsInCell>
									<fixedStorageSettings>
										<filter>
											<categories>
												<li>Root</li>
											</categories>
											<disallowedCategories>
												<li>Chunks</li>
												<li>Corpses</li>
												<li>FoodMeals</li>
											</disallowedCategories>
										</filter>
									</fixedStorageSettings>
									<paintable>true</paintable>
									<isEdifice>true</isEdifice>
								</value>
							</li>
					</operations>
				</match>
			</Operation>
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Adaptive Storage Framework</li>
				</mods>
				<match Class="PatchOperationAdd">
					<xpath>Defs</xpath>
					<value>
						<AdaptiveStorage.GraphicsDef>
							<defName>VFE_PotteryStorage</defName>
							<targetDef>VFE_Pottery</targetDef>
							<graphics>
								<li>
									<graphicData>
										<graphicClass>Graphic_Random</graphicClass>
										<texPath>Buildings/Art/Pottery</texPath>
										<drawSize>(1,1)</drawSize>
									</graphicData>
								</li>
							</graphics>
							<showContainedItems>false</showContainedItems>
							<useDominantContentColor>false</useDominantContentColor>
						</AdaptiveStorage.GraphicsDef>
					</value>
				</match>
			</Operation>
		<!-- CORE DLC - ADD ADS -->
			<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Adaptive Storage Framework</li>
				</mods>
				<match Class="PatchOperationSequence">
					<operations>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="ToolCabinet" or defName="Dresser"]</xpath>
							<value>
								<thingClass>AdaptiveStorage.ThingClass</thingClass>
							</value>
						</li>
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="ToolCabinet" or defName="Dresser"]</xpath>
							<value>
								<drawGUIOverlay>True</drawGUIOverlay>
								<inspectorTabs>
									<li>ITab_Storage</li>
								</inspectorTabs>
							</value>
						</li>
						<!--
							<li Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName="ToolCabinet"]/graphicData</xpath>
									<value>
										<shaderType>CutoutComplex</shaderType>
									</value>
							</li>
						-->
						<li Class="PatchOperationAdd">
							<xpath>Defs/ThingDef[defName="ToolCabinet"]</xpath>
							<value>
								<surfaceType>Item</surfaceType>
								<stuffCategories>
									<li>Metallic</li>
									<li>Woody</li>
									<li>Stony</li>
								</stuffCategories>
								<costStuffCount>150</costStuffCount>
							</value>
						</li>
						<li Class="PatchOperationReplace">
							<xpath>Defs/ThingDef[defName="ToolCabinet"]/costList</xpath>
							<value>
								<costList>
									<Steel>50</Steel>
								</costList>
							</value>
						</li>
						<!-- DESCRIPTION PATCHES -->
							<li Class="PatchOperationReplace">
								<xpath>Defs/ThingDef[defName="ToolCabinet"]/description</xpath>
								<value>
									<description>Increases work speed when placed near a workbench. One workbench can use up to two tool cabinets. This structure can also be used to store goods and valuables. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 3 Allowed items: Metals</description>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/ThingDef[defName="Dresser"]/description</xpath>
								<value>
									<description>A dresser. Gives a small comfort bonus to all nearby beds. Placing more than one dresser near the same bed has no effect. Can be used to store Apparel. Items stored in this will not deteriorate, even if outside. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 4 Stack per tile: 2 Allowed items: Apparel</description>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/ThingDef[defName="Shelf"]/description</xpath>
								<value>
									<description>A triple-stack shelf that holds three times as much as empty ground. Items stored inside will never deteriorate and don't affect the beauty of their surroundings.\n\nSince shelf space is limited, shelves cannot hold chunks, buildings, plants and large corpses. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 6 Stack per tile: 3 Allowed items: Foods, Manufactured, Raw Resources, Items, Weapons, Apparel, Corpses</description>
								</value>
							</li>
							<li Class="PatchOperationReplace">
								<xpath>Defs/ThingDef[defName="ShelfSmall"]/description</xpath>
								<value>
									<description>A small triple-stack shelf that holds three times as much as empty ground. Items stored inside will never deteriorate and don't affect the beauty of their surroundings.\n\nSince shelf space is limited, shelves cannot hold chunks, buildings, plants and large corpses. \n\n&lt;color=#E5E54C&gt;Storage stats:&lt;/color&gt; Stack size total: 3 Stack per tile: 3 Allowed items: Foods, Manufactured, Raw Resources, Items, Weapons, Apparel, Corpses</description>
								</value>
							</li>
						<!-- STORAGE PATCHES -->
							<li Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName="ToolCabinet"]/building</xpath>
								<value>
									<blueprintClass>Blueprint_Storage</blueprintClass>
									<maxItemsInCell>3</maxItemsInCell>
									<storageGroupTag>Shelf</storageGroupTag>
									<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
									<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
									<fixedStorageSettings>
										<filter>
											<disallowNotEverStorable>true</disallowNotEverStorable>
											<categories>
												<li>ResourcesRaw</li>
											</categories>
											<disallowedCategories>
												<li>FoodMeals</li>
												<li>Foods</li>
												<li>PlantMatter</li>
												<li>StoneBlocks</li>
											</disallowedCategories>
											<disallowedThingDefs>
												<li>WoodLog</li>
											</disallowedThingDefs>
										</filter>
									</fixedStorageSettings>
									<defaultStorageSettings>
										<priority>Preferred</priority>
										<filter>
											<categories>
												<li>ResourcesRaw</li>
											</categories>
										</filter>
									</defaultStorageSettings>
								</value>
							</li>
							<li Class="PatchOperationAdd">
								<xpath>Defs/ThingDef[defName="Dresser"]/building</xpath>
								<value>
									<blueprintClass>Blueprint_Storage</blueprintClass>
									<maxItemsInCell>2</maxItemsInCell>
									<storageGroupTag>Shelf</storageGroupTag>
									<preventDeteriorationOnTop>true</preventDeteriorationOnTop>
									<ignoreStoredThingsBeauty>true</ignoreStoredThingsBeauty>
									<fixedStorageSettings>
										<filter>
											<disallowNotEverStorable>true</disallowNotEverStorable>
											<categories>
												<li>Apparel</li>
											</categories>
											<disallowedCategories>
												<li>ApparelArmor</li>
												<li>ArmorHeadgear</li>
												<li>ApparelUtility</li>
											</disallowedCategories>
											<disallowedThingDefs />
											<thingDefs />
										</filter>
									</fixedStorageSettings>
									<defaultStorageSettings>
										<priority>Preferred</priority>
										<filter>
											<categories>
												<li>Apparel</li>
											</categories>
											<thingDefs>
											</thingDefs>
										</filter>
									</defaultStorageSettings>
								</value>
							</li>
					</operations>
				</match>
			</Operation>
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
	<!--  -->
</Patch>