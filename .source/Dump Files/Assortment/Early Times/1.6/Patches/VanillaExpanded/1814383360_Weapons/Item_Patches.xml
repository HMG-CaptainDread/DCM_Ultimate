<?xml version="1.0" encoding="utf-8"?>
<Patch>
  
  <Operation Class="PatchOperationFindMod">
	  <mods>
		  <li>Vanilla Weapons Expanded</li>
	  </mods>
	  <match Class="PatchOperationSequence">
		<success>Always</success>
		<operations>
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Wrench"]/recipeMaker/researchPrerequisite</xpath>		
				<value>
					  <researchPrerequisite>MedTimes_Mechanization</researchPrerequisite>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Cleaver"]/recipeMaker/researchPrerequisite</xpath>		
				<value>
					  <researchPrerequisite>MedTimes_Cooking</researchPrerequisite>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Scalpel"]/recipeMaker/researchPrerequisite</xpath>		
				<value>
					  <researchPrerequisite>Machining</researchPrerequisite>
				</value>
			</li>
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Scalpel"]/recipeMaker/recipeUsers</xpath>		
				<value>
					<recipeUsers>
						<li>TableMachining</li>
						<li>FabricationBench</li>
					</recipeUsers>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Pickaxe"]/recipeMaker</xpath>		
				<value>
					<recipeMaker>
					  <recipeUsers>
						<li>ElectricSmithy</li>
						<li>FueledSmithy</li>
						<li>MedTimes_ElectricBlacksmithForgeTierTwo</li>
						<li>MedTimes_BlacksmithForgeTierTwo</li>
					  </recipeUsers>
					  <researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
						<skillRequirements>
							<Crafting>3</Crafting>
					  </skillRequirements>
					</recipeMaker>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Hammer"]/recipeMaker</xpath>		
				<value>
					<recipeMaker>
					  <recipeUsers>
						<li>ElectricSmithy</li>
						<li>FueledSmithy</li>
						<li>MedTimes_ElectricBlacksmithForgeTierTwo</li>
						<li>MedTimes_BlacksmithForgeTierTwo</li>
					  </recipeUsers>
					  <researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
						<skillRequirements>
							<Crafting>3</Crafting>
					  </skillRequirements>
					</recipeMaker>
				</value>
			</li>
			
			<!-- invasive patching toggled on -->
			<!-- have these already, will be unified later -->
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_BattleAxe"]</xpath>	
			</li>
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Halberd"]</xpath>	
			</li>
			
			<!-- have these already, will be unified later -->
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_Bow_Crossbow"]</xpath>	
			</li>
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_Arrow_Bolt"]</xpath>	
			</li>
			
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_Gun_Musket"]</xpath>	
			</li>
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_Gun_Flintlock"]</xpath>	
			</li>
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "Bullet_Leadball"]</xpath>	
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_Throwing_Knives"]/recipeMaker</xpath>		
				<value>
					<recipeMaker>
					  <recipeUsers>
						<li>MedTimes_CraftingStation</li>
						<li>FueledSmithy</li>
						<li>ElectricSmithy</li>
						<li>MedTimes_BlacksmithForge</li>
						<li>MedTimes_ElectricBlacksmithForge</li>
						<li>MedTimes_ElectricBlacksmithForgeTierTwo</li>
						<li>MedTimes_BlacksmithForgeTierTwo</li>
					  </recipeUsers>
					  <researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
						<skillRequirements>
							<Crafting>3</Crafting>
					  </skillRequirements>
					</recipeMaker>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_Tool_Whip"]/recipeMaker</xpath>		
				<value>
					<recipeMaker>
					  <recipeUsers>
						<li>CraftingSpot</li>
						<li>MedTimes_CraftingStation</li>
					  </recipeUsers>
					  <researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
						<skillRequirements>
							<Crafting>6</Crafting>
					  </skillRequirements>
					</recipeMaker>
				</value>
			</li>
			
			<!-- have these already -->
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_Throwing_Rocks"]</xpath>	
			</li>
			<li Class="PatchOperationRemove">
				<xpath>/Defs/ThingDef[defName = "VWE_Rock"]</xpath>	
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_Bow_Long"]/recipeMaker/recipeUsers</xpath>		
				<value>
					  <recipeUsers>
						<li>MedTimes_CraftingStation</li>
					  </recipeUsers>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Wrench"]/recipeMaker</xpath>		
				<value>
					<recipeMaker>
					  <recipeUsers>
						<li>TableMachining</li>
					  </recipeUsers>
					  <researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
					  <skillRequirements>
						<Crafting>5</Crafting>
					  </skillRequirements>
					</recipeMaker>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Cleaver"]/recipeMaker</xpath>		
				<value>
					<recipeMaker>
					  <recipeUsers>
						<li>FueledSmithy</li>
						<li>ElectricSmithy</li>
						<li>MedTimes_BlacksmithForge</li>
						<li>MedTimes_ElectricBlacksmithForge</li>
						<li>MedTimes_ElectricBlacksmithForgeTierTwo</li>
						<li>MedTimes_BlacksmithForgeTierTwo</li>
					  </recipeUsers>
					  <researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
					  <skillRequirements>
						<Crafting>5</Crafting>
					  </skillRequirements>
					</recipeMaker>
				</value>
			</li>
			
			<li Class="PatchOperationReplace">
				<xpath>/Defs/ThingDef[defName = "VWE_MeleeWeapon_Scalpel"]/recipeMaker/researchPrerequisite</xpath>		
				<value>
					<researchPrerequisite>MedTimes_Toolworking</researchPrerequisite>
				</value>
			</li>
			
		</operations>
	</match>
  </Operation>
  
</Patch>




