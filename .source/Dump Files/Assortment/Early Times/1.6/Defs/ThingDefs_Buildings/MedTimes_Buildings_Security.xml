<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<!-- ================= Base Classes ============== -->
	<!-- Security Base Class -->
	<ThingDef Name="MedTimes_SecurityBase" Abstract="True">
		<category>Building</category>
		<thingClass>Building</thingClass>
		<techLevel>Medieval</techLevel>
		<soundImpactDefault>BulletImpact_Metal</soundImpactDefault>
		<selectable>true</selectable>
		<drawerType>MapMeshAndRealTime</drawerType>
		<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
		<repairEffect>Repair</repairEffect>
		<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
		<filthLeaving>Filth_RubbleBuilding</filthLeaving>
		<graphicData>
			<damageData>
				<cornerTL>Damage/Corner</cornerTL>
				<cornerTR>Damage/Corner</cornerTR>
				<cornerBL>Damage/Corner</cornerBL>
				<cornerBR>Damage/Corner</cornerBR>
				<edgeTop>Damage/Edge</edgeTop>
				<edgeBot>Damage/Edge</edgeBot>
				<edgeLeft>Damage/Edge</edgeLeft>
				<edgeRight>Damage/Edge</edgeRight>
			</damageData>
		</graphicData>
	</ThingDef>
	<!-- ================ Defensive Structures ================ -->
	<!-- Wooden Fencing -->
	<ThingDef ParentName="MedTimes_SandbagBase">
		<defName>MedTimes_Fencing</defName>
		<label>Fencing</label>
		<thingClass>EarlyTimes.Building_VisibleTrap</thingClass>
		<description>Simple fencing designed to keep wild animals out of your crop fields, cheap to make, fairly useless against attackers.</description>
		<graphicData>
			<texPath>Things/Building/Linked/Palisade/Palisade_Atlas</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<linkFlags>
				<li>Fences</li>
			</linkFlags>
		</graphicData>
		<uiIconPath>Things/Building/Linked/Palisade/Palisade_MenuIcon</uiIconPath>
		<statBases>
			<MaxHitPoints>60</MaxHitPoints>
			<TrapMeleeDamage>5</TrapMeleeDamage>
			<TrapSpringChance>0.6</TrapSpringChance>
		</statBases>
		<costStuffCount>4</costStuffCount>
		<stuffCategories>
			<li>Woody</li>
		</stuffCategories>
		<pathCost>80</pathCost>
		<fillPercent>0.65</fillPercent>
		<passability>PassThroughOnly</passability>
		<selectable>true</selectable>
		<neverMultiSelect>true</neverMultiSelect>
		<tickerType>Never</tickerType>
		<fertility>0</fertility>
		<staticSunShadowHeight>0.20</staticSunShadowHeight>
		<castEdgeShadows>false</castEdgeShadows>
		<holdsRoof>false</holdsRoof>
		<designationCategory>Security</designationCategory>
		<building>
			<relatedBuildCommands>
				<li>PenMarker</li>
				<li>MedTimes_Gate</li>
			</relatedBuildCommands>
			<isInert>true</isInert>
			<isFence>true</isFence>
			<isPlaceOverableWall>true</isPlaceOverableWall>
			<ai_chillDestination>false</ai_chillDestination>
			<artificialForMeditationPurposes>false</artificialForMeditationPurposes>
			<isTrap>true</isTrap>
			<trapDamageCategory>Sharp</trapDamageCategory>
			<trapDestroyOnSpring>false</trapDestroyOnSpring>
			<trapPeacefulWildAnimalsSpringChanceFactor>5</trapPeacefulWildAnimalsSpringChanceFactor>
			<trapUnarmedGraphicData>
				<texPath>Things/Building/Linked/Palisade/Palisade_Atlas</texPath>
				<graphicClass>Graphic_Single</graphicClass>
				<shaderType>Cutout</shaderType>
			</trapUnarmedGraphicData>
			<blueprintGraphicData>
				<texPath>Things/Building/Linked/Palisade/Fencing_Blueprint_Atlas</texPath>
			</blueprintGraphicData>
		</building>
		<researchPrerequisites>
			<li>MedTimes_Fence</li>
		</researchPrerequisites>
	</ThingDef>
	<!-- hunting trap -->
	<ThingDef ParentName="MedTimes_SecurityBase">
		<defName>EarlyTimes_AnimalTrap</defName>
		<label>animal trap</label>
		<description>A trap designed to debilitate animals. Works when stepped on by wild animals, just need to bait.</description>
		<thingClass>EarlyTimes.Building_TrapAnimal</thingClass>
		<graphicData>
			<texPath>Things/Building/Security/AnimalTrap/AnimalTrapArmed</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.3,1.3)</drawSize>
			<damageData>
				<rect>(0,0,1,0.15)</rect>
			</damageData>
		</graphicData>
		<altitudeLayer>Building</altitudeLayer>
		<drawerType>RealtimeOnly</drawerType>
		<rotatable>false</rotatable>
		<tickerType>Normal</tickerType>
		<stealable>false</stealable>
		<terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
		<statBases>
			<MaxHitPoints>60</MaxHitPoints>
			<WorkToBuild>4000</WorkToBuild>
			<Beauty>-6</Beauty>
			<TrapMeleeDamage>35</TrapMeleeDamage>
			<TrapSpringChance>0.9</TrapSpringChance>
		</statBases>
		<stuffCategories>
			<li>Metallic</li>
			<li>Woody</li>
		</stuffCategories>
		<costStuffCount>60</costStuffCount>
		<designationCategory>Security</designationCategory>
		<building>
			<isTrap>true</isTrap>
			<trapDamageCategory>Sharp</trapDamageCategory>
			<trapDestroyOnSpring>false</trapDestroyOnSpring>
			<trapUnarmedGraphicData>
				<texPath>Things/Building/Security/AnimalTrap/AnimalTrapUnarmed</texPath>
				<graphicClass>Graphic_Single</graphicClass>
				<damageData>
					<rect>(0,0,1,0.15)</rect>
					<cornerTL>Damage/Corner</cornerTL>
					<cornerTR>Damage/Corner</cornerTR>
					<cornerBL>Damage/Corner</cornerBL>
					<cornerBR>Damage/Corner</cornerBR>
					<edgeTop>Damage/Edge</edgeTop>
					<edgeBot>Damage/Edge</edgeBot>
					<edgeLeft>Damage/Edge</edgeLeft>
					<edgeRight>Damage/Edge</edgeRight>
				</damageData>
			</trapUnarmedGraphicData>
		</building>
		<researchPrerequisites>
			<li>TS_BasicTraps</li>
		</researchPrerequisites>
	</ThingDef>
	<!-- Wooden Barricade -->
	<ThingDef ParentName="MedTimes_SecurityBase">
		<defName>MedTimes_Trap_WoodenBarricade</defName>
		<label>Barricade</label>
		<thingClass>EarlyTimes.Building_VisibleTrap</thingClass>
		<minifiedDef>MinifiedThing</minifiedDef>
		<description>Sharpened sticks arranged in such a way as to make safe passage difficult without consuming large quantities of time. or injuring oneself in the process.</description>
		<graphicData>
			<texPath>Things/Building/Security/Barricade/MedTimes_Barricade</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(1.2,1.2)</drawSize>
		</graphicData>
		<uiIconPath>Things/Building/Security/Barricade/MedTimes_Barricade</uiIconPath>
		<stuffCategories>
			<li>Metallic</li>
			<li>Woody</li>
		</stuffCategories>
		<costStuffCount>10</costStuffCount>
		<statBases>
			<MaxHitPoints>100</MaxHitPoints>
			<WorkToBuild>800</WorkToBuild>
			<Beauty>-5</Beauty>
			<TrapMeleeDamage>10</TrapMeleeDamage>
			<TrapSpringChance>0.8</TrapSpringChance>
			<Flammability>0.5</Flammability>
			<Mass>3</Mass>
		</statBases>
		<altitudeLayer>Building</altitudeLayer>
		<drawerType>RealtimeOnly</drawerType>
		<rotatable>false</rotatable>
		<tickerType>Normal</tickerType>
		<passability>PassThroughOnly</passability>
		<fillPercent>0.35</fillPercent>
		<pathCost>12</pathCost>
		<pathCostIgnoreRepeat>false</pathCostIgnoreRepeat>
		<building>
			<isTrap>true</isTrap>
			<trapDestroyOnSpring>false</trapDestroyOnSpring>
			<trapDamageCategory>Sharp</trapDamageCategory>
			<ai_chillDestination>false</ai_chillDestination>
			<expandHomeArea>false</expandHomeArea>
		</building>
		<designationCategory>Security</designationCategory>
		<thingCategories>
			<li>BuildingsSecurity</li>
		</thingCategories>
		<researchPrerequisites>
			<li>MedTimes_MedievalDefenses</li>
		</researchPrerequisites>
	</ThingDef>
	<!-- Steel Caltrops -->
	<ThingDef ParentName="MedTimes_SecurityBase">
		<defName>MedTimes_Trap_Caltrops</defName>
		<label>Steel Caltrops</label>
		<thingClass>Building_TrapDamager</thingClass>
		<minifiedDef>MinifiedThing</minifiedDef>
		<description>Small metal spikes arranged in such a way as to make safe passage difficult without consuming large quantities of time. or injuring oneself in the process. Unlike "Wooden Barricades" Caltrops have a low flammability.</description>
		<graphicData>
			<texPath>Things/Building/Security/Caltrops/MedTimes_Caltrops</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>CutoutComplex</shaderType>
			<drawSize>(1.2,1.2)</drawSize>
		</graphicData>
		<uiIconPath>Things/Building/Security/Caltrops/MedTimes_Caltrops</uiIconPath>
		<stuffCategories>
			<li>Metallic</li>
		</stuffCategories>
		<costStuffCount>10</costStuffCount>
		<statBases>
			<MaxHitPoints>200</MaxHitPoints>
			<WorkToBuild>800</WorkToBuild>
			<Beauty>-5</Beauty>
			<TrapMeleeDamage>15</TrapMeleeDamage>
			<TrapSpringChance>0.95</TrapSpringChance>
			<Flammability>0</Flammability>
			<Mass>2</Mass>
		</statBases>
		<altitudeLayer>Building</altitudeLayer>
		<drawerType>RealtimeOnly</drawerType>
		<rotatable>false</rotatable>
		<tickerType>Normal</tickerType>
		<passability>PassThroughOnly</passability>
		<fillPercent>0</fillPercent>
		<pathCost>300</pathCost>
		<pathCostIgnoreRepeat>false</pathCostIgnoreRepeat>
		<building>
			<isTrap>true</isTrap>
			<trapDestroyOnSpring>false</trapDestroyOnSpring>
			<trapDamageCategory>Sharp</trapDamageCategory>
			<ai_chillDestination>false</ai_chillDestination>
			<expandHomeArea>false</expandHomeArea>
		</building>
		<designationCategory>Security</designationCategory>
		<thingCategories>
			<li>BuildingsSecurity</li>
		</thingCategories>
		<researchPrerequisites>
			<li>MedTimes_MedievalDefenses</li>
			<li>MedTimes_MedievalCrafting</li>
		</researchPrerequisites>
	</ThingDef>
	<!-- firepot trap -->
	<ThingDef ParentName="MedTimes_SecurityBase">
		<defName>MedTimes_Trap_Firepot</defName>
		<label>Fire-Pot Trap</label>
		<thingClass>Building_TrapExplosive</thingClass>
		<description>A explosive firepot that uses a simple flint and pressure trigger mechanism.</description>
		<graphicData>
			<texPath>Things/Building/Security/Firepot/MedTimes_Firepot</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(2,2)</drawSize>
		</graphicData>
		<uiIconPath>Things/Item/Resource/Produced/MedTimes_ExplosivePot</uiIconPath>
		<costList>
			<MedTimes_Resource_ExplosivePot>1</MedTimes_Resource_ExplosivePot>
			<MedTimes_Resource_Quicklime>2</MedTimes_Resource_Quicklime>
		</costList>
		<statBases>
			<MaxHitPoints>50</MaxHitPoints>
			<WorkToBuild>350</WorkToBuild>
			<Beauty>-3</Beauty>
			<TrapSpringChance>0.3</TrapSpringChance>
			<Flammability>1</Flammability>
			<Mass>10</Mass>
		</statBases>
		<size>(1,1)</size>
		<specialDisplayRadius>4.5</specialDisplayRadius>
		<altitudeLayer>Building</altitudeLayer>
		<drawerType>RealtimeOnly</drawerType>
		<rotatable>false</rotatable>
		<tickerType>Normal</tickerType>
		<passability>PassThroughOnly</passability>
		<stealable>false</stealable>
		<fillPercent>0</fillPercent>
		<pathCost>0</pathCost>
		<building>
			<isTrap>true</isTrap>
		</building>
		<comps>
			<li Class="CompProperties_Explosive">
				<explosiveRadius>4.5</explosiveRadius>
				<explosiveDamageType>Flame</explosiveDamageType>
				<preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
				<preExplosionSpawnChance>0.85</preExplosionSpawnChance>
				<damageAmountBase>10</damageAmountBase>
				<damageFalloff>true</damageFalloff>
				<explosionSound>MedTimes_Sound_Firebomb</explosionSound>
				<startWickHitPointsPercent>0.95</startWickHitPointsPercent>
				<wickTicks>
					<min>3</min>
					<max>5</max>
				</wickTicks>
			</li>
		</comps>
		<placeWorkers>
			<li>PlaceWorker_NeverAdjacentTrap</li>
		</placeWorkers>
		<constructionSkillPrerequisite>3</constructionSkillPrerequisite>
		<designationCategory>Security</designationCategory>
		<researchPrerequisites>
			<li>MedTimes_MedievalDefenses</li>
		</researchPrerequisites>
	</ThingDef>
</Defs>
