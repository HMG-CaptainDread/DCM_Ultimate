<?xml version="1.0" encoding="utf-8" ?>
<Patch>

<!-- Mech Pylon -->

<!-- change deconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechPylon"]/building/deconstructible</xpath>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "MechPylon"]/building/deconstructible</xpath>
			<value>
				<deconstructible>true</deconstructible>
			</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- change alwaysDeconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechPylon"]/building/alwaysDeconstructible</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechPylon"]/building</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</nomatch>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "MechPylon"]/building/alwaysDeconstructible</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</match>
</Operation>

<!-- add costList -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechPylon"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechPylon"]</xpath>
		<value>
			<costList>
				<ChunkSlagSteel>2</ChunkSlagSteel>
			</costList>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- Mechanoid Processor -->

<!-- change deconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidProcessor"]/building/deconstructible</xpath>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "MechanoidProcessor"]/building/deconstructible</xpath>
			<value>
				<deconstructible>true</deconstructible>
			</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- change alwaysDeconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidProcessor"]/building/alwaysDeconstructible</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechanoidProcessor"]/building</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</nomatch>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "MechanoidProcessor"]/building/alwaysDeconstructible</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</match>
</Operation>

<!-- add WorkToBuild -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidProcessor"]/statBases/WorkToBuild</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechanoidProcessor"]/statBases</xpath>
		<value>
			<WorkToBuild>3000</WorkToBuild>
		</value>
	</nomatch>
	<match Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</match>
</Operation>

<!-- add costList -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidProcessor"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechanoidProcessor"]</xpath>
		<value>
			<costList>
				<ChunkSlagSteel>12</ChunkSlagSteel>
			</costList>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- Mechanoid DropPod -->

<!-- change deconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidDropPod"]/building/deconstructible</xpath>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "MechanoidDropPod"]/building/deconstructible</xpath>
			<value>
				<deconstructible>true</deconstructible>
			</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- change alwaysDeconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidDropPod"]/building/alwaysDeconstructible</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechanoidDropPod"]/building</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</nomatch>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "MechanoidDropPod"]/building/alwaysDeconstructible</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</match>
</Operation>

<!-- add WorkToBuild to statBases -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidDropPod"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechanoidDropPod"]/statBases</xpath>
		<value>
			<WorkToBuild>3000</WorkToBuild>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- add costList -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "MechanoidDropPod"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "MechanoidDropPod"]</xpath>
		<value>
			<costList>
				<ChunkSlagSteel>8</ChunkSlagSteel>
				<ComponentIndustrial>2</ComponentIndustrial>
			</costList>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- Ancient Terraformer -->

<!-- change deconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "AncientTerraformer"]/building/deconstructible</xpath>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "AncientTerraformer"]/building/deconstructible</xpath>
			<value>
				<deconstructible>true</deconstructible>
			</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- change alwaysDeconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "AncientTerraformer"]/building/alwaysDeconstructible</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "AncientTerraformer"]/building</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</nomatch>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "AncientTerraformer"]/building/alwaysDeconstructible</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</match>
</Operation>

<!-- add WorkToBuild to statBases -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "AncientTerraformer"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "AncientTerraformer"]/statBases</xpath>
		<value>
			<WorkToBuild>3000</WorkToBuild>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- add costList -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "AncientTerraformer"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "AncientTerraformer"]</xpath>
		<value>
			<costList>
				<ChunkSlagSteel>8</ChunkSlagSteel>
				<Steel>120</Steel>
				<ComponentIndustrial>8</ComponentIndustrial>
				<Gravcore>2</Gravcore>
			</costList>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- Gauss Cannon -->

<!-- change deconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]/building/deconstructible</xpath>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "GaussCannon"]/building/deconstructible</xpath>
			<value>
				<deconstructible>true</deconstructible>
			</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- change alwaysDeconstructible : true -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]/building/alwaysDeconstructible</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "GaussCannon"]/building</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</nomatch>
	<match Class="PatchOperationReplace">
		<xpath>*/ThingDef[defName = "GaussCannon"]/building/alwaysDeconstructible</xpath>
			<value>
				<alwaysDeconstructible>true</alwaysDeconstructible>
			</value>
	</match>
</Operation>

<!-- Remove destroyable -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]/destroyable</xpath>
	<match Class="PatchOperationRemove">
		<xpath>*/ThingDef[defName = "GaussCannon"]/destroyable</xpath>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- Remove useHitPoints -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]/useHitPoints</xpath>
	<match Class="PatchOperationRemove">
		<xpath>*/ThingDef[defName = "GaussCannon"]/useHitPoints</xpath>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

<!-- add statBases -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]/statBases</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "GaussCannon"]</xpath>
		<value>
			<statBases>
				<MaxHitPoints>16000</MaxHitPoints>
				<Flammability>0</Flammability>
				<WorkToBuild>30000</WorkToBuild> <!-- 12 hours in game -->
			</statBases>
		</value>
	</nomatch>
	<match Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</match>
</Operation>

<!-- add killedLeavings -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]/killedLeavings</xpath>
	<nomatch Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "GaussCannon"]</xpath>
		<value>
			<killedLeavings>
				<ChunkSlagSteel>8</ChunkSlagSteel>
				<Steel>200</Steel>
				<Plasteel>100</Plasteel>
				<ComponentIndustrial>10</ComponentIndustrial>
			</killedLeavings>
		</value>
	</nomatch>
	<match Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</match>
</Operation>

<!-- add costList -->

<Operation Class="PatchOperationConditional">
	<xpath>*/ThingDef[defName = "GaussCannon"]</xpath>
	<match Class="PatchOperationAdd">
		<xpath>*/ThingDef[defName = "GaussCannon"]</xpath>
		<value>
			<costList>
				<ChunkSlagSteel>8</ChunkSlagSteel>
				<Steel>200</Steel>
				<Plasteel>100</Plasteel>
				<ComponentIndustrial>10</ComponentIndustrial>
			</costList>
		</value>
	</match>
	<nomatch Class="PatchOperationTest">
		<xpath>*/ThingDef[defName = "MealSurvivalPack"]</xpath>
		<success>Always</success>
	</nomatch>
</Operation>

</Patch>