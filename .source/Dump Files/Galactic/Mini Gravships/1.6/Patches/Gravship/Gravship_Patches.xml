<?xml version="1.0" encoding="utf-8" ?>
<Patch>
    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationSequence">
            <operations>
				
                <!-- 2x2 Fuel Tank -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="ChemfuelTank"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>Gravship_FuelTanks</designatorDropdown>
                    </value>
                </li>
				
                <!-- 3x3 Fuel Tank -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="LargeChemfuelTank"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>Gravship_FuelTanks</designatorDropdown>
                    </value>
                </li>
				
				
				
  
  
  


				
                <!-- Pilot Console -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="PilotConsole"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>Gravship_Consoles</designatorDropdown>
                    </value>
                </li>
				
                <!-- Ship Oxygen Pump -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="OxygenPump"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>Gravship_Pumps</designatorDropdown>
                    </value>
                </li>
				
                <!-- Dropdown for gravship sensors / orbital scanner -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="OrbitalScanner"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>Gravship_Scanners</designatorDropdown>
                    </value>
                </li>
				
                <!-- Dropdown for gravship signal jammers -->
                <li Class="PatchOperationAdd">
                    <xpath>/Defs/ThingDef[defName="SignalJammer"][not(designatorDropdown)]</xpath>
                    <value>
                        <designatorDropdown>Gravship_SignalJammers</designatorDropdown>
                    </value>
                </li>
				
                <!-- Remove Thruster Limit -->
                <li Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef/comps/li[@Class="CompProperties_GravshipThruster"]/maxSimultaneous</xpath>
					<value>
						<maxSimultaneous>9999</maxSimultaneous>
						<showMaxSimultaneous>false</showMaxSimultaneous>
					</value>
                </li>
				
                <!-- Stronger Gravship Hull, 420hp to 500hp -->
                <li Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[defName = "GravshipHull"]/statBases</xpath>
					<value>
						<statBases>
						<MaxHitPoints>500</MaxHitPoints>
						<WorkToBuild>300</WorkToBuild>
						<Flammability>0</Flammability>
						</statBases>
					</value>
                </li>
				
                <!-- Shuttle, not flammable, apparently have to copy all statbases when replacing -->
                <li Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[defName = "PassengerShuttle"]/statBases</xpath>
					<value>
						<statBases>
							<MaxHitPoints>600</MaxHitPoints>
							<Flammability>0</Flammability>
							<WorkToBuild>36000</WorkToBuild>
							<Mass>125</Mass>
							<Comfort>0.65</Comfort>
						</statBases>
					</value>
                </li>
	
<!-- GravFieldExtender stats, buffed hp from 200 to 500-->
                <li Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[defName = "GravFieldExtender"]/statBases</xpath>
					<value>
						<statBases>
							<MaxHitPoints>200</MaxHitPoints>
							<Mass>15</Mass>
							<WorkToBuild>1500</WorkToBuild>
						</statBases>
					</value>
                </li>

<!-- Grav Engine stats, buffed hp from 800 to 1000-->
<!-- Grav Engine stats, SubstructureSupport from 500 to 500-->
                <li Class="PatchOperationReplace">
                    <xpath>Defs/ThingDef[defName = "GravEngine"]/statBases</xpath>
					<value>
						<statBases>
							<MaxHitPoints>1000</MaxHitPoints>
							<Mass>30</Mass>
							<GravshipRange>0</GravshipRange>
							<SubstructureSupport>500</SubstructureSupport>
							<WorkToBuild>9000</WorkToBuild>
						</statBases>
					</value>
                </li>

	
            </operations>
        </match>
	</Operation>
	
	
	
<!-- Description changes for thrusters and grav field extender, no limit -->
<!-- Field extender needs a dedicated patch as compared to above I guess -->
	
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="SmallThruster"]/description</xpath>
<value>
<description>A chemfuel thruster that increases the range of a gravship. Thrusters require an unobstructed area free of large buildings and gravship substructure.</description>
</value>
</Operation>
	
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="LargeThruster"]/description</xpath>
<value>
<description>An advanced chemfuel thruster with a heat-resistant vacstone liner. It greatly increases the range of a gravship. Thrusters require an unobstructed area free of large buildings and gravship substructure.\n\nRequires vacstone blocks, which can be obtained from orbital asteroids.</description>
</value>
</Operation>
	

<!-- GravFieldExtender flickable -->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="GravFieldExtender"]/comps</xpath>
    <value>
      <li Class="CompProperties_Flickable"/>
      <li Class="CompProperties_Power">
		<compClass>CompPowerTrader</compClass>
		<basePowerConsumption>50</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
    </value>
  </Operation>



<!-- GravFieldExtender amounts -->

	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="GravFieldExtender"]/comps/li[@Class="CompProperties_GravshipFacility"]/maxSimultaneous</xpath>
<value>
<maxSimultaneous>9999</maxSimultaneous>
<showMaxSimultaneous>false</showMaxSimultaneous>
</value>
</Operation>
  
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="GravFieldExtender"]/description</xpath>
<value>
<description>An ultratech device used to increase the size of a gravship. It extends the area in which substructure can be built, and increases the amount of substructure that a gravship can support. Must be built near a grav engine.</description> 
</value>
</Operation>



<!-- Grav shield amounts -->

	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="GravshipShieldGenerator"]/comps/li[@Class="CompProperties_GravshipFacility"]/maxSimultaneous</xpath>
<value>
<maxSimultaneous>9999</maxSimultaneous>
<showMaxSimultaneous>false</showMaxSimultaneous>
</value>
</Operation>
  
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="GravshipShieldGenerator"]/description</xpath>
<value>
    <description>A shielding device that can protect a gravship. It modulates the grav field to create a short-lived momentum repulsor surface that blocks projectiles. It works against normal shots and mortars. Those inside can still shoot out.\n\nIt must be charged before use.</description>
</value>
</Operation>


<!-- FuelOptimizer amounts -->

	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="FuelOptimizer"]/comps/li[@Class="CompProperties_GravshipFacility"]/maxSimultaneous</xpath>
<value>
<maxSimultaneous>9999</maxSimultaneous>
<showMaxSimultaneous>false</showMaxSimultaneous>
</value>
</Operation>
  
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="FuelOptimizer"]/description</xpath>
<value>
    <description>A gravtech unit that allows grav engine lift to coordinate more efficiently with traditional thrusters. It reduces the fuel needed for gravship flight.</description>
</value>
</Operation>

	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="PilotSubpersonaCore"]</xpath>
<value>
    <designationCategory>Odyssey</designationCategory>
    <researchPrerequisites>
      <li>AdvancedGravtech</li>
      <li>OrbitalTech</li>
    </researchPrerequisites>
</value>
</Operation>

<!-- SignalJammer amounts -->

	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="SignalJammer"]/comps/li[@Class="CompProperties_GravshipFacility"]/maxSimultaneous</xpath>
<value>
<maxSimultaneous>9999</maxSimultaneous>
<showMaxSimultaneous>false</showMaxSimultaneous>
</value>
</Operation>
  
<!-- PilotSubpersonaCore amounts -->

	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="PilotSubpersonaCore"]/comps/li[@Class="CompProperties_GravshipFacility"]/maxSimultaneous</xpath>
<value>
<maxSimultaneous>9999</maxSimultaneous>
<showMaxSimultaneous>false</showMaxSimultaneous>
</value>
</Operation>
  
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="PilotSubpersonaCore"]/description</xpath>
<value>
    <description>A low-grade subpersona specialized in gravship flight. It reduces the chance of an accident when flying a gravship, though it can't fully account for human error.</description>
</value>
</Operation>




<!-- Pilot Console costs 50W -->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="PilotConsole"]/comps</xpath>
    <value>
      <li Class="CompProperties_Power">
		<compClass>CompPowerTrader</compClass>
		<basePowerConsumption>50</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
    </value>
  </Operation>

<!-- SmallThruster 150W -->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="SmallThruster"]/comps</xpath>
    <value>
      <li Class="CompProperties_Power">
		<compClass>CompPowerTrader</compClass>
		<basePowerConsumption>150</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
    </value>
  </Operation>

<!-- LargeThruster 150W -->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="LargeThruster"]/comps</xpath>
    <value>
      <li Class="CompProperties_Power">
		<compClass>CompPowerTrader</compClass>
		<basePowerConsumption>150</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
    </value>
  </Operation>
  
  
  
<!-- SmallThruster Not Stealable -->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="SmallThruster"]</xpath>
    <value>
			<stealable>false</stealable>
    </value>
  </Operation>

<!-- LargeThruster Not Stealable -->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="LargeThruster"]</xpath>
    <value>
			<stealable>false</stealable>
    </value>
  </Operation>
  
  
<!-- Thruster Grav Ritual Quality -->

  
  <Operation Class="PatchOperationAdd">
    <xpath>/Defs/RitualOutcomeEffectDef[defName="GravshipLaunch"]/comps</xpath>
    <value>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>modular capital thrusters</label>
        <facilityQualityOffsets>
          <li>
            <key>ModularXLMiniGravshipThruster</key>
            <value>0.12</value>
          </li>
        </facilityQualityOffsets>
      </li>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>capital thrusters</label>
        <facilityQualityOffsets>
          <li>
            <key>XLMiniGravshipThruster</key>
            <value>0.12</value>
          </li>
        </facilityQualityOffsets>
      </li>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>modular extra large thrusters</label>
        <facilityQualityOffsets>
          <li>
            <key>ModularXLargeThruster</key>
            <value>0.06</value>
          </li>
        </facilityQualityOffsets>
      </li>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>extra large thrusters</label>
        <facilityQualityOffsets>
          <li>
            <key>XLargeThruster</key>
            <value>0.06</value>
          </li>
        </facilityQualityOffsets>
      </li>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>modular large thrusters</label>
        <facilityQualityOffsets>
          <li>
            <key>ModularLargeThruster</key>
            <value>0.03</value>
          </li>
        </facilityQualityOffsets>
      </li>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>modular small thrusters</label>
        <facilityQualityOffsets>
          <li>
            <key>ModularSmallThruster</key>
            <value>0.01</value>
          </li>
        </facilityQualityOffsets>
      </li>
      <li Class="RitualOutcomeComp_GravshipFacilities">
        <label>large pilot console</label>
        <facilityQualityOffsets>
          <li>
            <key>PilotConsole</key>
            <value>0.04</value>
          </li>
        </facilityQualityOffsets>
      </li>
    </value>
  </Operation>
  
  
<!-- Grav Engines get 2500W bc of the Gravcore Power Cells getting 1200W by default. A Grav Engine is larger and more expensive anyways -->

	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="GravEngine"]/comps</xpath>
    <value>
      <li Class="CompProperties_Power">
        <compClass>CompPowerPlantGravcore</compClass>
        <basePowerConsumption>-2500</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
    </value>
  </Operation>

  
<!-- Grav Engines Not Stealable + costlist-->
	<Operation Class="PatchOperationAdd">
<xpath>Defs/ThingDef[defName="GravEngine"]</xpath>
    <value>
			<stealable>false</stealable>
    <designationCategory>Odyssey</designationCategory>
		<costList>
			<Steel>200</Steel>
			<Plasteel>100</Plasteel>
			<GravlitePanel>200</GravlitePanel>
			<Silver>200</Silver>
			<Gold>100</Gold>
			<ComponentSpacer>16</ComponentSpacer>
			<Gravcore>1</Gravcore>
		</costList>
    <researchPrerequisites>
      <li>ShipBasics</li>
      <li>OrbitalTech</li>
      <li>AdvancedGravtech</li>
    </researchPrerequisites>
    </value>
  </Operation>


	<!-- Buildable Grav Engines -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName = "GravEngine"]/building</xpath>
			<value>
    <uiIconPath>Things/Building/Gravship/GravEngine_UI</uiIconPath>
    <building>
      <ai_neverTrashThis>true</ai_neverTrashThis>
      <deconstructible>true</deconstructible>
      <relatedBuildCommands>
        <li>GravshipHull</li>
        <li>GravshipHullArmor</li>
        <li>GravshipHullPowered</li>
        <li>GravshipHullSolar</li>
        <li>OrbitalTransportPod</li>
        <li>SpaceshipBattery</li>
        <li>SpaceshipBatteryTwo</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
    </building>
			</value>
		</match>
	</Operation>

	<!-- Buildable Grav Engines description, building two of them breaks the game, at least give players a warning-->
	<Operation Class="PatchOperationReplace">
<xpath>Defs/ThingDef[defName="GravEngine"]/description</xpath>
<value>
    <description>The ultratech heart of a gravship. The grav engine generates lift by inverting and intensifying the effect of gravity in a field around itself. This engine can lift upwards, but does not produce forward thrust. It can't function far from a large gravity well like a planet, so it is useless for interplanetary travel.\n\nWhen launched, anything on substructure that's connected to the grav engine will be transported to a new map. Without a grav anchor, launching a gravship will abandon your current map.\n\nGlitterworld engineers use gravships to launch orbital platforms and build skyrippers. They require massive and hyper-specialized facilities to produce, making them a rare sight outside of glitterworlds.\n\n(Note: Building multiple Grav engines is not advised as it will break core game mechanics. It is best advised to build an engine solely to replace a lost one.)</description>
</value>
</Operation>

<!-- Stuffable Vac Barriers and HP buff 100 to 300 -->
		<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName = "VacBarrier"]/costList</xpath>
			<value>
				<costList>
					<Steel>40</Steel>
					<ComponentIndustrial>2</ComponentIndustrial>
					<GravlitePanel>2</GravlitePanel>
				</costList>
			</value>
		</match>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "VacBarrier"]</xpath>
			<value> 
				<costStuffCount>20</costStuffCount>
			</value>
		</match>
	</Operation>
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "VacBarrier"]</xpath>
			<value> 
				<stuffCategories>
					<li>Metallic</li>
				</stuffCategories>
			</value>
		</match>
	</Operation>
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName = "VacBarrier"]/statBases</xpath>
			<value>
				<statBases>
					<MaxHitPoints>300</MaxHitPoints>
					<WorkToBuild>2000</WorkToBuild>
					<Flammability>0</Flammability>
				</statBases>
			</value>
		</match>
	</Operation>
	
	
	<!-- Vac Barrier UI links, to walls, doors and such -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName = "VacBarrier"]/building</xpath>
			<value>
				<building>
	<isAirtight>true</isAirtight>
      <isSupportDoor>true</isSupportDoor>
      <doorTopGraphic>
        <texPath>Things/Building/VacBarrier/VacBarrier_Top</texPath>
        <graphicClass>Graphic_Multi</graphicClass>
        <drawSize>(1.5,1.5)</drawSize>
      </doorTopGraphic>
      <blueprintClass>Blueprint_Door</blueprintClass>
      <blueprintGraphicData>
        <texPath>Things/Building/VacBarrier/VacBarrier_MenuIcon</texPath>
        <graphicClass>Graphic_Multi</graphicClass>
        <shaderType>EdgeDetect</shaderType>
        <drawSize>(1.5,1.5)</drawSize>
      </blueprintGraphicData>
      <relatedBuildCommands Inherit="False">
        <li>PowerConduit</li>
        <li>GravshipHull</li>
        <li>GravshipHullArmor</li>
        <li>GravshipHullPowered</li>
        <li>GravshipHullSolar</li>
        <li>VacBarrier</li>
        <li>VacAirlock</li>
        <li>OxygenPump</li>
        <li>HeatPump</li>
        <li>ColdPump</li>
        <li>VacPump</li>
        <li>Vent</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
				</building>
			</value>
		</match>
	</Operation>

	
	<!-- Defaul Gravship Hull UI links, to walls, doors and such -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>/Defs/ThingDef[defName = "GravshipHull"]/building</xpath>
			<value>
    <building>
      <isAirtight>true</isAirtight>
      <relatedBuildCommands Inherit="False">
        <li>PowerConduit</li>
        <li>GravshipHull</li>
        <li>GravshipHullArmor</li>
        <li>GravshipHullPowered</li>
        <li>GravshipHullSolar</li>
        <li>VacBarrier</li>
        <li>VacAirlock</li>
        <li>OxygenPump</li>
        <li>HeatPump</li>
        <li>ColdPump</li>
        <li>VacPump</li>
        <li>Vent</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
				</building>
			</value>
		</match>
	</Operation>

	<!-- Fuel Tanks link to other fuel tanks -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "ChemfuelTank"]</xpath>
			<value>
    <building>
      <relatedBuildCommands Inherit="False">
    <li>MiniChemfuelTank</li>
    <li>MedChemfuelTank</li>
    <li>LargeChemfuelTank</li>
    <li>XLChemfuelTank</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
				</building>
			</value>
		</match>
	</Operation>




	<!-- Thrusters link to other fuel tanks -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "SmallThruster"]</xpath>
			<value>
    <building>
      <relatedBuildCommands Inherit="False">
    <li>LargeThruster</li>
    <li>XLargeThruster</li>
    <li>XLMiniGravshipThruster</li>
    <li>ModularSmallThruster</li>
    <li>ModularLargeThruster</li>
    <li>ModularXLargeThruster</li>
    <li>ModularXLMiniGravshipThruster</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
				</building>
			</value>
		</match>
	</Operation>

	<!-- Thrusters link to other fuel tanks -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "LargeThruster"]</xpath>
			<value>
    <building>
      <relatedBuildCommands Inherit="False">
    <li>SmallThruster</li>
    <li>XLargeThruster</li>
    <li>XLMiniGravshipThruster</li>
    <li>ModularSmallThruster</li>
    <li>ModularLargeThruster</li>
    <li>ModularXLargeThruster</li>
    <li>ModularXLMiniGravshipThruster</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
				</building>
			</value>
		</match>
	</Operation>


	<!-- Large Fuel Tanks link to other fuel tanks -->
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "LargeChemfuelTank"]</xpath>
			<value>
    <building>
      <relatedBuildCommands Inherit="False">
    <li>MiniChemfuelTank</li>
    <li>MedChemfuelTank</li>
    <li>ChemfuelTank</li>
    <li>XLChemfuelTank</li>
      </relatedBuildCommands>
      <relatedTerrain>
        <li>Substructure</li>
      </relatedTerrain>
				</building>
			</value>
		</match>
	</Operation>



<!-- Stuffable Small Thruster -->
		<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName = "SmallThruster"]/costList</xpath>
			<value>
				<costList>
					<Steel>180</Steel>
					<ComponentIndustrial>4</ComponentIndustrial>
				</costList>
			</value>
		</match>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "SmallThruster"]</xpath>
			<value> 
				<costStuffCount>20</costStuffCount>
			</value>
		</match>
	</Operation>
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "SmallThruster"]</xpath>
			<value> 
				<stuffCategories>
					<li>Metallic</li>
				</stuffCategories>
			</value>
		</match>
	</Operation>

<!-- Stuffable Large Thruster -->
		<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName = "LargeThruster"]/costList</xpath>
			<value>
				<costList>
					<Steel>220</Steel>
					<BlocksVacstone>50</BlocksVacstone>
					<ComponentIndustrial>6</ComponentIndustrial>
				</costList>
			</value>
		</match>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "LargeThruster"]</xpath>
			<value> 
				<costStuffCount>20</costStuffCount>
			</value>
		</match>
	</Operation>
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "LargeThruster"]</xpath>
			<value> 
				<stuffCategories>
					<li>Metallic</li>
				</stuffCategories>
			</value>
		</match>
	</Operation>
	

<!-- Stuffable PassengerShuttle -->
		<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName = "PassengerShuttle"]/costList</xpath>
			<value>
				<costList>
					<Steel>200</Steel>
					<Plasteel>150</Plasteel>
					<ComponentIndustrial>6</ComponentIndustrial>
					<ShuttleEngine>1</ShuttleEngine>
				</costList>
			</value>
		</match>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "PassengerShuttle"]</xpath>
			<value> 
				<costStuffCount>50</costStuffCount>
			</value>
		</match>
	</Operation>
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "PassengerShuttle"]</xpath>
			<value> 
				<stuffCategories>
					<li>Metallic</li>
				</stuffCategories>
			</value>
		</match>
	</Operation>
	

<!-- Stuffable GravAnchor, cheaper with steel technically -->
		<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName = "GravAnchor"]/costList</xpath>
			<value>
				<costList>
				<Plasteel>200</Plasteel>
				<GravlitePanel>80</GravlitePanel>
				<ComponentSpacer>5</ComponentSpacer>
    </costList>
			</value>
		</match>
	</Operation>
	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "GravAnchor"]</xpath>
			<value> 
				<costStuffCount>100</costStuffCount>
			</value>
		</match>
	</Operation>
    	<Operation Class="PatchOperationFindMod">
		<mods>
		<li>Odyssey</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName = "GravAnchor"]</xpath>
			<value> 
				<stuffCategories>
					<li>Metallic</li>
				</stuffCategories>
			</value>
		</match>
	</Operation>
  
	
	<!-- Vanilla Expanded compatibility -->
	<!-- still able to be fueled by hand, but the fuel mechanics from ve are segregated from the vanilla fuel storage -->
	<!-- ironically this allows for more options to keep it this way plus I dont have to write C assembly for it, might one day -->
	
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MiniChemfuelTank"]/comps</xpath>
        <value>
		<comps>
                <li Class="PipeSystem.CompProperties_ResourceStorage">
                    <pipeNet>VCHE_ChemfuelNet</pipeNet>
                    <storageCapacity>125</storageCapacity>
                    <barSize>(0.45, 0.30)</barSize>
                    <margin>0.1</margin>
                    <centerOffset>(0, 0, 0.15)</centerOffset>
                    <extractOptions>
                        <texPath>UI/Gizmos/ExtractChemfuel</texPath>
                        <labelKey>VCHE_ExtractChemfuel</labelKey>
                        <descKey>VCHE_ExtractChemfuelDesc</descKey>
                        <extractAmount>50</extractAmount>
                        <thing>Chemfuel</thing>
                        <ratio>1</ratio>
                    </extractOptions>
                </li>
                <li Class="PipeSystem.CompProperties_ExplosiveContent">
                    <explosiveMaxRadius>2</explosiveMaxRadius>
                    <!-- Vanilla options below -->
                    <explosiveDamageType>Flame</explosiveDamageType>
                    <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
                    <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
                    <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                    <preExplosionSpawnChance>1</preExplosionSpawnChance>
                    <wickTicks>70~150</wickTicks>
                </li>
      <li Class="CompProperties_Refuelable">
        <fuelCapacity>125</fuelCapacity>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <initialConfigurableTargetFuelLevel>0</initialConfigurableTargetFuelLevel>
        <fuelFilter>
          <thingDefs>
            <li>Chemfuel</li>
          </thingDefs>
        </fuelFilter>
        <fuelLabel>Chemfuel</fuelLabel>
        <fuelGizmoLabel>Chemfuel</fuelGizmoLabel>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <autoRefuelPercent>0</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <canEjectFuel>true</canEjectFuel>
        <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
      </li>
		</comps>
        </value>
		</match>
	</Operation>
	
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="MedChemfuelTank"]/comps</xpath>
        <value>
		<comps>
                <li Class="PipeSystem.CompProperties_ResourceStorage">
                    <pipeNet>VCHE_ChemfuelNet</pipeNet>
                    <storageCapacity>250</storageCapacity>
                    <barSize>(1.0, 0.25)</barSize>
                    <margin>0.1</margin>
                    <centerOffset>(0, 0, 0.35)</centerOffset>
                    <extractOptions>
                        <texPath>UI/Gizmos/ExtractChemfuel</texPath>
                        <labelKey>VCHE_ExtractChemfuel</labelKey>
                        <descKey>VCHE_ExtractChemfuelDesc</descKey>
                        <extractAmount>50</extractAmount>
                        <thing>Chemfuel</thing>
                        <ratio>1</ratio>
                    </extractOptions>
                </li>
                <li Class="PipeSystem.CompProperties_ExplosiveContent">
                    <explosiveMaxRadius>2</explosiveMaxRadius>
                    <!-- Vanilla options below -->
                    <explosiveDamageType>Flame</explosiveDamageType>
                    <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
                    <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
                    <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                    <preExplosionSpawnChance>1</preExplosionSpawnChance>
                    <wickTicks>70~150</wickTicks>
                </li>
      <li Class="CompProperties_Refuelable">
        <fuelCapacity>250</fuelCapacity>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <initialConfigurableTargetFuelLevel>0</initialConfigurableTargetFuelLevel>
        <fuelFilter>
          <thingDefs>
            <li>Chemfuel</li>
          </thingDefs>
        </fuelFilter>
        <fuelLabel>Chemfuel</fuelLabel>
        <fuelGizmoLabel>Chemfuel</fuelGizmoLabel>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <autoRefuelPercent>0</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <canEjectFuel>true</canEjectFuel>
        <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
      </li>
		</comps>
        </value>
		</match>
	</Operation>
	
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="ChemfuelTank"]/comps</xpath>
        <value>
		<comps>
                <li Class="PipeSystem.CompProperties_ResourceStorage">
                    <pipeNet>VCHE_ChemfuelNet</pipeNet>
                    <storageCapacity>250</storageCapacity>
                    <barSize>(1.0, 0.25)</barSize>
                    <margin>0.1</margin>
                    <centerOffset>(0, 0, 0.35)</centerOffset>
                    <extractOptions>
                        <texPath>UI/Gizmos/ExtractChemfuel</texPath>
                        <labelKey>VCHE_ExtractChemfuel</labelKey>
                        <descKey>VCHE_ExtractChemfuelDesc</descKey>
                        <extractAmount>50</extractAmount>
                        <thing>Chemfuel</thing>
                        <ratio>1</ratio>
                    </extractOptions>
                </li>
                <li Class="PipeSystem.CompProperties_ExplosiveContent">
                    <explosiveMaxRadius>2</explosiveMaxRadius>
                    <!-- Vanilla options below -->
                    <explosiveDamageType>Flame</explosiveDamageType>
                    <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
                    <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
                    <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                    <preExplosionSpawnChance>1</preExplosionSpawnChance>
                    <wickTicks>70~150</wickTicks>
                </li>
      <li Class="CompProperties_Refuelable">
        <fuelCapacity>250</fuelCapacity>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <initialConfigurableTargetFuelLevel>0</initialConfigurableTargetFuelLevel>
        <fuelFilter>
          <thingDefs>
            <li>Chemfuel</li>
          </thingDefs>
        </fuelFilter>
        <fuelLabel>Chemfuel</fuelLabel>
        <fuelGizmoLabel>Chemfuel</fuelGizmoLabel>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <autoRefuelPercent>0</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <canEjectFuel>true</canEjectFuel>
        <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
      </li>
		</comps>
        </value>
		</match>
	</Operation>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="LargeChemfuelTank"]/comps</xpath>
        <value>
		<comps>
                <li Class="PipeSystem.CompProperties_ResourceStorage">
                    <pipeNet>VCHE_ChemfuelNet</pipeNet>
                    <storageCapacity>250</storageCapacity>
                    <barSize>(1.3, 0.25)</barSize>
                    <margin>0.1</margin>
                    <centerOffset>(0, 0, 0.35)</centerOffset>
                    <extractOptions>
                        <texPath>UI/Gizmos/ExtractChemfuel</texPath>
                        <labelKey>VCHE_ExtractChemfuel</labelKey>
                        <descKey>VCHE_ExtractChemfuelDesc</descKey>
                        <extractAmount>50</extractAmount>
                        <thing>Chemfuel</thing>
                        <ratio>1</ratio>
                    </extractOptions>
                </li>
                <li Class="PipeSystem.CompProperties_ExplosiveContent">
                    <explosiveMaxRadius>2</explosiveMaxRadius>
                    <!-- Vanilla options below -->
                    <explosiveDamageType>Flame</explosiveDamageType>
                    <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
                    <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
                    <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                    <preExplosionSpawnChance>1</preExplosionSpawnChance>
                    <wickTicks>70~150</wickTicks>
                </li>
      <li Class="CompProperties_Refuelable">
        <fuelCapacity>750</fuelCapacity>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <initialConfigurableTargetFuelLevel>0</initialConfigurableTargetFuelLevel>
        <fuelFilter>
          <thingDefs>
            <li>Chemfuel</li>
          </thingDefs>
        </fuelFilter>
        <fuelLabel>Chemfuel</fuelLabel>
        <fuelGizmoLabel>Chemfuel</fuelGizmoLabel>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <autoRefuelPercent>0</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <canEjectFuel>true</canEjectFuel>
        <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
      </li>
		</comps>
        </value>
		</match>
	</Operation>

  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="XLChemfuelTank"]/comps</xpath>
        <value>
		<comps>
                <li Class="PipeSystem.CompProperties_ResourceStorage">
                    <pipeNet>VCHE_ChemfuelNet</pipeNet>
                    <storageCapacity>2500</storageCapacity>
                    <barSize>(2.1, 0.50)</barSize>
                    <margin>0.1</margin>
                    <centerOffset>(0, 0, 0.70)</centerOffset>
                    <extractOptions>
                        <texPath>UI/Gizmos/ExtractChemfuel</texPath>
                        <labelKey>VCHE_ExtractChemfuel</labelKey>
                        <descKey>VCHE_ExtractChemfuelDesc</descKey>
                        <extractAmount>50</extractAmount>
                        <thing>Chemfuel</thing>
                        <ratio>1</ratio>
                    </extractOptions>
                </li>
                <li Class="PipeSystem.CompProperties_ExplosiveContent">
                    <explosiveMaxRadius>2</explosiveMaxRadius>
                    <!-- Vanilla options below -->
                    <explosiveDamageType>Flame</explosiveDamageType>
                    <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
                    <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
                    <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                    <preExplosionSpawnChance>1</preExplosionSpawnChance>
                    <wickTicks>70~150</wickTicks>
                </li>
      <li Class="CompProperties_Refuelable">
        <fuelCapacity>2500</fuelCapacity>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <initialConfigurableTargetFuelLevel>0</initialConfigurableTargetFuelLevel>
        <fuelFilter>
          <thingDefs>
            <li>Chemfuel</li>
          </thingDefs>
        </fuelFilter>
        <fuelLabel>Chemfuel</fuelLabel>
        <fuelGizmoLabel>Chemfuel</fuelGizmoLabel>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <autoRefuelPercent>0</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <canEjectFuel>true</canEjectFuel>
        <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
      </li>
		</comps>
        </value>
		</match>
	</Operation>
	
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationReplace">
        <xpath>/Defs/ThingDef[defName="GravshipMinisChembarrel"]/comps</xpath>
        <value>
		<comps>
                <li Class="PipeSystem.CompProperties_ResourceStorage">
                    <pipeNet>VCHE_ChemfuelNet</pipeNet>
                    <storageCapacity>300</storageCapacity>
                    <barSize>(0.45, 0.30)</barSize>
                    <margin>0.1</margin>
                    <centerOffset>(0, 0, 0.15)</centerOffset>
                    <extractOptions>
                        <texPath>UI/Gizmos/ExtractChemfuel</texPath>
                        <labelKey>VCHE_ExtractChemfuel</labelKey>
                        <descKey>VCHE_ExtractChemfuelDesc</descKey>
                        <extractAmount>50</extractAmount>
                        <thing>Chemfuel</thing>
                        <ratio>1</ratio>
                    </extractOptions>
                </li>
                <li Class="PipeSystem.CompProperties_ExplosiveContent">
                    <explosiveMaxRadius>2</explosiveMaxRadius>
                    <!-- Vanilla options below -->
                    <explosiveDamageType>Flame</explosiveDamageType>
                    <destroyThingOnExplosionSize>2</destroyThingOnExplosionSize>
                    <startWickHitPointsPercent>0.333</startWickHitPointsPercent>
                    <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
                    <preExplosionSpawnChance>1</preExplosionSpawnChance>
                    <wickTicks>70~150</wickTicks>
                </li>
      <li Class="CompProperties_Explosive">
        <wickTicks>40~80</wickTicks>
        <explosiveRadius>0</explosiveRadius>
        <explosiveExpandPerFuel>0.06</explosiveExpandPerFuel>
        <explosiveDamageType>Flame</explosiveDamageType>
        <explodeOnKilled>true</explodeOnKilled>
        <startWickHitPointsPercent>0.50</startWickHitPointsPercent>
        <preExplosionSpawnThingDef>Filth_Fuel</preExplosionSpawnThingDef>
        <preExplosionSpawnChance>0.50</preExplosionSpawnChance>
        <postExplosionSpawnThingDef>Filth_Fuel</postExplosionSpawnThingDef>
        <postExplosionSpawnChance>0.50</postExplosionSpawnChance>
        <postExplosionSpawnThingCount>1</postExplosionSpawnThingCount>
        <applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
        <startWickOnDamageTaken>
          <li>Bullet</li>
          <li>Flame</li>
          <li>ArrowHighVelocity</li>
        </startWickOnDamageTaken>
      </li>
      <li Class="CompProperties_Refuelable">
        <fuelCapacity>300</fuelCapacity>
        <targetFuelLevelConfigurable>true</targetFuelLevelConfigurable>
        <initialConfigurableTargetFuelLevel>0</initialConfigurableTargetFuelLevel>
        <fuelFilter>
          <thingDefs>
            <li>Chemfuel</li>
          </thingDefs>
        </fuelFilter>
        <fuelLabel>Chemfuel</fuelLabel>
        <fuelGizmoLabel>Chemfuel</fuelGizmoLabel>
        <autoRefuelPercent>0</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <drawOutOfFuelOverlay>false</drawOutOfFuelOverlay>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
        <drawFuelGaugeInMap>false</drawFuelGaugeInMap>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
      </li>
		</comps>
        </value>
		</match>
	</Operation>
	
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Vanilla Chemfuel Expanded</li>
    </mods>
		<match Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName="GravEngine"]/comps</xpath>
        <value>
            <li Class="PipeSystem.CompProperties_ResourceTrader">
                <pipeNet>VCHE_ChemfuelNet</pipeNet>
            </li>
        </value>
		</match>
	</Operation>
	
</Patch>








